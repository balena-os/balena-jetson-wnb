- commits:
    - subject: Update meta-balena from v2.58.6 to v2.79.7
      hash: 2d750afab211b1d89ac03e1536a7886a8627f120
      body: |
        Update meta-balena from 2.58.6 to 2.79.7
      footer:
        Changelog-entry: Update meta-balena from v2.58.6 to v2.79.7
        changelog-entry: Update meta-balena from v2.58.6 to v2.79.7
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested:
        - commits:
            - subject: 'meta-balena: rename connectivity packagegroup'
              hash: 8f54c4137f8bb8a83a05d9963cdb1565778c737b
              body: |
                Rename the resin-connectivity packagegroup.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: 'meta-balena: rename connectivity packagegroup'
                changelog-entry: 'meta-balena: rename connectivity packagegroup'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.79.7
          date: 2021-05-26T15:03:08.108Z
        - commits:
            - subject: 'bluez5: Use bluez5 recipe from poky master'
              hash: fe3c870eef75927eac740bbc1e8e15b8ed9c7341
              body: |
                This commit brings the bluez5 recipe from poky master as we need
                to control which bluez5 version is used in meta-balena.

                The code originates from poky's master branch -
                c887238347295c87dacf8a08e6d703603436d0bc.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.79.6
          date: 2021-05-26T08:26:16.310Z
        - commits:
            - subject: 'README: Update supported Yocto versions'
              hash: cdbf76ccbaaf6e265f8432eca10d42e55b6969e8
              body: >
                Add the warrior and dunfell versions to the list of tested
                releases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.79.5
          date: 2021-05-21T20:01:11.657Z
        - commits:
            - subject: Skip some services when running under docker
              hash: 8ef8078de0f1e65adab784c6456d66cf82ee4774
              body: |
                * skip setting up zram swap
                * dont' attempt to mount inactive partition
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.79.4
          date: 2021-05-21T10:15:56.497Z
        - commits:
            - subject: 'kernel-resin: disable panic on hung task'
              hash: ac0ba89f14c0b04b7353192f15a0634be44d910c
              body: >
                Some BSPs have enabled CONFIG_BOOTPARAM_HUNG_TASK_PANIC which

                can trigger panics upon high iowait, such as balena-engine

                downloading/writing a large image to disk.


                Kconfig says the following:

                    Say Y here to enable the kernel to panic on "hung tasks",
                    which are bugs that cause the kernel to leave a task stuck
                    in uninterruptible "D" state.

                    The panic can be used in combination with panic_timeout,
                    to cause the system to reboot automatically after a
                    hung task has been detected. This feature is useful for
                    high-availability systems that have uptime guarantees and
                    where a hung tasks must be resolved ASAP.

                    Say N if unsure.

                Hung tasks are not normally terminal, nor do they affect system

                stability, but panicking during an image write forces a device
                into a

                bootloop that requires manual intervention to remedy.


                See the below stacktrace:


                [  243.565482] INFO: task balenad:4049 blocked for more than 120
                seconds.

                [  243.565737]       Not tainted 4.9.140-l4t-r32.4 #1

                [  243.565853] "echo 0 >
                /proc/sys/kernel/hung_task_timeout_secs" disables this message.

                [  243.566032] balenad         D    0  4049      1 0x00000008

                [  243.566236] Call trace:

                [  243.566354] [<ffffff80080863a4>] __switch_to+0x9c/0xc0

                [  243.566479] [<ffffff8008f0d09c>] __schedule+0x22c/0x570

                [  243.566590] [<ffffff8008f0d420>] schedule+0x40/0xa8

                [  243.566744] [<ffffff8008f1057c>]
                rwsem_down_read_failed+0xd4/0x128

                [  243.566872] [<ffffff8008f0f8a8>] down_read+0x58/0x60

                [  243.566999] [<ffffff8008263568>] iterate_supers+0x78/0x138

                [  243.567131] [<ffffff800829bac0>] sys_sync+0x50/0xc0

                [  243.567237] [<ffffff8008083900>] el0_svc_naked+0x34/0x38

                [  243.567394] Kernel panic - not syncing: hung_task: blocked
                tasks

                [  243.567533] CPU: 3 PID: 47 Comm: khungtaskd Not tainted
                4.9.140-l4t-r32.4 #1

                [  243.567819] Hardware name: NVIDIA Jetson Xavier NX Developer
                Kit (DT)

                [  243.568318] Call trace:

                [  243.568508] [<ffffff800808c678>] dump_backtrace+0x0/0x1a8

                [  243.571026] [<ffffff800808c844>] show_stack+0x24/0x30

                [  243.576195] [<ffffff800841f4e8>] dump_stack+0x94/0xbc

                [  243.581446] [<ffffff80081c3db0>] panic+0x128/0x28c

                [  243.586599] [<ffffff8008178190>] watchdog+0x2f8/0x398

                [  243.591760] [<ffffff80080dcd60>] kthread+0x100/0x108

                [  243.596477] [<ffffff80080838a0>] ret_from_fork+0x10/0x30

                [  243.602257] SMP: stopping secondary CPUs

                [  243.605897] Kernel Offset: disabled

                [  243.609511] Memory Limit: none

                [  243.612484] trusty-log panic notifier - trusty version Built:
                12:18:19 Oct 16 2020 [  243.636124] Rebooting in 1 seconds..


                Disable this config for all platforms.
              footer:
                Changelog-entry: 'kernel-resin: disable panic on hung task'
                changelog-entry: 'kernel-resin: disable panic on hung task'
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.79.3
          date: 2021-05-20T08:04:17.185Z
        - commits:
            - subject: Add boot-splash test to unmanaged suite
              hash: a6865f22ba5d5bd60f659daac113cac6ae1aa8f3
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.79.2
          date: 2021-05-19T09:25:55.145Z
        - commits:
            - subject: 'balena-os: Add preferred provider for Go native'
              hash: 20dd5fb4384e78f24d3e3304be38666fdcb859a8
              body: >
                With Go 1.16 a precompiled go-binary-native that provides
                go-native was

                introduced to bootstrap the Go compilation.

                Specify to use the go-native recipe and not go-binary-native
                when

                requiring go-native.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.79.1
          date: 2021-05-18T08:37:41.159Z
        - commits:
            - subject: 'balena-engine: build in GOPATH mode'
              hash: 342a9621b5416d2a1f6aec3948dfdcfe15395d13
              body: >
                balena-engine hasn't transitioned to building with modules yet,
                and Go

                1.16 enabled them by default. Revert to the old behavior for now
                to fix
                  the build.

                This option will be removed in Go 1.17, so we'll have to update
                our

                build before upgrading further.


                https://blog.golang.org/go116-module-changes
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: 'recipes-devtools: go: backport get_linuxloader'
              hash: 283e7d279ed26c2855b4916c24bb502e2d87a189
              body: >
                Hardknott introduces get_linuxloader() to linuxloader.bbclass
                that

                allows for dynamically choosing between different c libraries,
                which go

                recipes depend on.


                Add an include that backports this for older Yocto releases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: 'meta-resin-pyro: go-native: include fix-goarch.inc'
              hash: 252521185190ac2730fa8a92a5565a6069104e25
              body: "This fixes the error:\n\n\tInvalid GOMIPS value. Must be hardfloat or softfloat.\n"
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
                signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
              author: Joseph Kogut
              nested: []
            - subject: 'meta-balena-common: upgrade from go 1.12.17 to 1.16.2'
              hash: a395e1bdaaba8050042d011e6e5fe40311216d58
              body: |
                Copy the unmodified golang recipes from poky commit 464472d to
                meta-balena-common/recipes-devtools.

                This shaves off approximately:
                balena-engine 41M -> 34M (17%)
                init (mobynit) 9.5M -> 7.9M (16.8%)
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
                signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.79.0
          date: 2021-05-13T18:25:01.396Z
        - commits:
            - subject: 'balena-config-vars: improve handling of NM config parameters'
              hash: 61280e84e045a4b235a21eec194fc8cf894c310d
              body: >
                Improve the handling of the os.network.* parameters defined in

                config.json.


                The balena-config-vars script has been updated to process the

                os.network.* parameters from config.json. This allows scripts

                to access these parameters by just including balena-config-vars

                rather than having to parse them directly. Some of the default

                settings have now been included as part of the jq parsing
                string.

                The jq command has also been assigned to an interim variable
                rather

                than being evaluated directly. This allows other scripts which

                include balena-config-vars to handle parsing errors correctly
                when

                they are running with 'set -e'.


                The os-networkmanager script has been updated to make use of the

                balena-config-vars script and no longer parses config.json
                itself.

                The logging has been standardised and the simplification of the

                variable processing has reduced the size of the script from 146

                to 101 lines.


                The build time tests have been removed as the os-networkmanager
                script

                is unable to access /usr/sbin/balena-config-vars at buildtime.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: 'balena-config-vars: improve handling of NM config parameters'
                changelog-entry: 'balena-config-vars: improve handling of NM config parameters'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.78.2
          date: 2021-05-13T15:17:52.402Z
        - commits:
            - subject: Add Device Tree tests
              hash: f59b7e0d54098e000d7fb3ce2b4811fa91351769
              body: |
                1. Add DToverlay & DTparam tests
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.78.1
          date: 2021-05-12T21:38:32.558Z
        - commits:
            - subject: Add symlinks and aliases for legacy resin namespaces
              hash: 16f5437233e88af276d9cce7bc99dd1230f6f10d
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: Rename resin-supervisor to balena-supervisor
              hash: 8c0b17bc3dbcf0674c7083d5a8dacff64cca48c1
              body: ''
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.78.0
          date: 2021-05-10T21:41:51.607Z
        - commits:
            - subject: Update balena-supservisor from v12.5.10 to v12.7.0
              hash: d2e3f092a213b8810e4bb922ad3f2a08135129c5
              body: |
                Update balena-supervisor from 12.5.10 to 12.7.0
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supservisor from v12.5.10 to v12.7.0
                changelog-entry: Update balena-supservisor from v12.5.10 to v12.7.0
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested:
                - commits:
                    - subject: Backwards compatility changes for old resin namespaces
                      hash: 301aa52f032fecd29495894e828f21a93df60caa
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                    - subject: Change container name to balena_supervisor
                      hash: 09615c9d8254d3f62ef1088d0da35485b0c18734
                      body: ''
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                    - subject: Rename resin-supervisor to balena-supervisor
                      hash: 5faf9d7686d7f03b5bb73ef9a234038e7e61037c
                      body: ''
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                      nested: []
                  version: balena-supervisor-12.7.0
                  date: 2021-05-07T12:05:43.135Z
                - commits:
                    - subject: >-
                        Show warning instead of exception for invalid network
                        config
                      hash: 5197a1330d69cbff97f3c53a77f640638e074b8a
                      body: >
                        A previous PR (#1656) fixed validation for network ipam
                        config,

                        checking that both network and subnet are defined for
                        each ipam config entry

                        (as described in the docker documentation).


                        After that PR, the validations throws an exception if
                        the network target state is incorrect,

                        but this turns out to be the wrong approach, because
                        that exception is also triggered

                        when querying target state.


                        This isn't a problem in normal operation, but it is in
                        local mode, because local

                        mode queries the old target state before sending a new
                        one. Since the query fails,

                        the CLI can never push the new target state.


                        This PR replaces the exception with a warning on the
                        logs, since a

                        misconfigured network won't cause any engine failures,
                        it will just

                        prevent containers to communicate through the provided
                        network.


                        A future improvement should move this validation to an
                        earlier point in the process,

                        so the target state can get rejected before it even gets
                        to a point it

                        can be used.
                      footer:
                        Relates-to: '#1693'
                        relates-to: '#1693'
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.6.8
                  date: 2021-05-06T20:30:52.075Z
                - commits:
                    - subject: >-
                        Patch awaiting response when checking if supervisor0
                        network exists
                      hash: 8b0c2347d8d04d3c7101016f6c885f31d9b3dc6a
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.6.7
                  date: 2021-05-06T15:58:02.661Z
                - commits:
                    - subject: >-
                        Fix parsing driver_opts from compose to docker network
                        creation
                      hash: 1408fd7bcb5f25b75679b7ce0e509adc7f8f6004
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: quentinGllmt <quentin@quentingllmt.fr>
                        signed-off-by: quentinGllmt <quentin@quentingllmt.fr>
                      author: quentinGllmt
                      nested: []
                  version: balena-supervisor-12.6.6
                  date: 2021-05-06T14:52:59.431Z
                - commits:
                    - subject: >-
                        Update balena-register-device and send extra info at
                        provision time
                      hash: 9e52bb33ac931a035b4cd0fd80173bf10db771c0
                      body: >
                        This extra info will mean the API is able to immediately
                        set default

                        config vars based on the os/supervisor version so that
                        they are

                        available on the first target state fetch rather than
                        having a delay

                        whilst waiting for the supervisor to report them as part
                        of a state

                        patch


                        Update balena-register-device from 6.1.6 to 7.2.0
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: >-
                                Support
                                `supervisorVersion`/`osVersion`/`osVariant`/`macAddress`
                                fields
                              hash: 6f10fe77ba11ec57bb012777975423dda498a8bd
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: balena-register-device-7.2.0
                          date: 2021-04-29T12:35:30.543Z
                        - commits:
                            - subject: Update dependencies
                              hash: 8d78459d6cf6e0dcaa4721c38898eeb2d25c5674
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: balena-register-device-7.1.1
                          date: 2021-04-29T12:23:50.655Z
                        - commits:
                            - subject: >-
                                Switch from randomstring to uuid for generating
                                device uuids
                              hash: 596a76abcf0a76aef93d191e4c59b939701c80b8
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                          version: balena-register-device-7.1.0
                          date: 2020-07-13T14:38:52.915Z
                        - commits:
                            - subject: >-
                                Add .versionbot/CHANGELOG.yml for nested
                                changelogs
                              hash: 7444f4ba2538180a5c75fa5f62de6f395ae28ba7
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: balena-register-device-7.0.1
                          date: 2020-07-13T13:03:45.818Z
                        - commits:
                            - author: Pagan Gazzard
                              body: ''
                              hash: 8cfa23ebbe2915b2f37730972cf104cb47f68c65
                              subject: Convert to type checked javascript
                            - author: Pagan Gazzard
                              body: ''
                              footers:
                                change-type: major
                              hash: 0f3e9d26f375554f793dd632b94f33e3ee88933b
                              subject: >-
                                Drop callback interface in favor of promise
                                interface
                            - author: Pagan Gazzard
                              body: ''
                              footers:
                                change-type: major
                              hash: 67d46678e910c2c8b11f417fa40d00781a1a3905
                              subject: Switch to a named export
                            - author: Pagan Gazzard
                              body: ''
                              footers:
                                change-type: major
                              hash: faa9edc73cf243acd2abe1532e64aab8303031b5
                              subject: Convert to typescript
                            - author: Pagan Gazzard
                              body: ''
                              footers:
                                change-type: major
                              hash: 9e5bdbeaee325c8a523c8498ef023baeb49ef7c1
                              subject: Update to typed-error 3.x
                            - author: Pagan Gazzard
                              body: ''
                              footers:
                                change-type: major
                              hash: 27e78f2ea3f1a059a9fb2ba43dff55f32b0b2b4a
                              subject: Switch to returning native promises
                            - author: Pagan Gazzard
                              body: ''
                              footers:
                                change-type: major
                              hash: dc21eb20dba1a977e74ffadbece66720ced4c529
                              subject: Update to balena-request 11.x
                            - author: Pagan Gazzard
                              body: ''
                              hash: f4008dad3de415cc25987268b387848fc3ed1200
                              subject: Use typescript import helpers
                          date: '2020-07-06T18:11:23Z'
                          version: balena-register-device-7.0.0
                  version: balena-supervisor-12.6.5
                  date: 2021-05-06T10:19:39.399Z
                - commits:
                    - subject: Log error responses from API when reporting state
                      hash: 2203f78d517a9edf75a261dd3c77cdf5b609548c
                      body: >
                        This adds the error message from the API to journal logs
                        to better

                        identify those cases where patching to the API fails.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Relates-to: '#1680'
                        relates-to: '#1680'
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.6.4
                  date: 2021-05-05T19:06:49.805Z
                - commits:
                    - subject: >-
                        Added configurations.md to document all configurable
                        vars
                      hash: 07a0344dc6ac15a67513080c63dffe0d6b811ebf
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: '#1646'
                        closes: '#1646'
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.6.3
                  date: 2021-05-04T02:10:52.553Z
                - commits:
                    - subject: Remove version tag from livepush generated image
                      hash: 9c1d10dc318bb7c207608ed197c5713960642af3
                      body: >
                        The `start-resin-supervisor` script in newer OS version
                        no longer uses the

                        SUPERVISOR_TAG environment variable setup on
                        supervisor.conf and

                        update-supervisor.conf.


                        This change removes the need for that variable with
                        livepush supervisor

                        to make it compatible with older and newer OS versions
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.6.2
                  date: 2021-04-30T19:54:33.136Z
                - commits:
                    - subject: 'Remove mz, mkdirp, body-parser dependencies'
                      hash: 4a2ac557ef11d334154bafa0cab4e7272cbed749
                      body: |
                        'mz' can be safely replaced with fs.promises
                        and util.promisify for faster native methods.
                        'mkdirp' after Node v8 uses native fs.mkdir, thus
                        is redundant. 'body-parser' is deprecated and
                        contained within express v4.x.
                      footer:
                        Closes: '#1567'
                        closes: '#1567'
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Christina Wang <christina@balena.io>
                        signed-off-by: Christina Wang <christina@balena.io>
                      author: Christina Wang
                      nested: []
                  version: balena-supervisor-12.6.1
                  date: 2021-04-27T22:23:07.811Z
                - commits:
                    - subject: Bump dockerode types to 2.5.34
                      hash: 95fb568aaeb0d5a0fa8b4b88f650b51d3b96786d
                      body: >
                        This commit updates dockerode types to the latest 2.x
                        version, removing the need

                        for custom composer types for network.


                        This commit also modifies network tests to use the new
                        types
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.6.0
                  date: 2021-04-27T17:10:23.382Z
                - commits:
                    - subject: Enable docker layer caching on CircleCI
                      hash: dd2df215f0c62459f3e26c56efdfce26edbcc229
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.5.16
                  date: 2021-04-27T16:42:23.485Z
                - commits:
                    - subject: >-
                        Added clean step to remove previous builds before
                        running tests
                      hash: 6f4030634ad05f29f72cea11456a252570c470d7
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.5.15
                  date: 2021-04-26T19:55:49.189Z
                - commits:
                    - subject: 'balena-supervisor: replace references to resin-vars'
                      hash: 6ca9507beb616c4b344e4927cb5db01534c8ae4b
                      body: >
                        Replace all references to the 'resin-vars' script with

                        'balena-config-vars' as it has been renamed. Add a
                        conditional

                        test for compatibility with legacy systems.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Changelog-entry: 'balena-supervisor: replace references to resin-vars'
                        changelog-entry: 'balena-supervisor: replace references to resin-vars'
                        Signed-off-by: Mark Corbin <mark@balena.io>
                        signed-off-by: Mark Corbin <mark@balena.io>
                      author: Mark Corbin
                      nested: []
                  version: balena-supervisor-12.5.14
                  date: 2021-04-26T18:12:32.752Z
                - commits:
                    - subject: Update supervisor to typescript 4
                      hash: fd06c06092b61d349e8b40f66f847065368810e3
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.5.13
                  date: 2021-04-25T23:09:44.241Z
                - commits:
                    - subject: Bump ssri from 6.0.1 to 6.0.2
                      hash: ae8dc8ff227237444ae532cf7e817bfc463fbac5
                      body: >
                        Bumps [ssri](https://github.com/npm/ssri) from 6.0.1 to
                        6.0.2.

                        - [Release notes](https://github.com/npm/ssri/releases)

                        -
                        [Changelog](https://github.com/npm/ssri/blob/v6.0.2/CHANGELOG.md)

                        -
                        [Commits](https://github.com/npm/ssri/compare/v6.0.1...v6.0.2)
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: 'dependabot[bot] <support@github.com>'
                        signed-off-by: 'dependabot[bot] <support@github.com>'
                      author: 'dependabot[bot]'
                      nested: []
                  version: balena-supervisor-12.5.12
                  date: 2021-04-20T22:52:22.531Z
                - commits:
                    - subject: Refactor extra_uEnv to not match with intel nuc
                      hash: e6eda0fca7b280aa5453972a26c36ab6895c227a
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.5.11
                  date: 2021-04-14T05:27:23.056Z
          version: meta-balena-2.77.2
          date: 2021-05-10T17:33:42.866Z
        - commits:
            - subject: Update os-config from v1.2.0 to v1.2.1
              hash: 028486aa61680bdc09068fdb07f3a61edfb96a5d
              body: |
                Includes rename of resin-supervisor to balena-supervisor.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.77.1
          date: 2021-05-10T13:48:11.472Z
        - commits:
            - subject: 'grub update hook: move variables from grub.cfg to grubenv'
              hash: 76c82dd987215982dbfcbdf950588dafdc4c129e
              body: >
                In order to verify GPG signature of grub.cfg it must be
                immutable.

                All the variables should be stored in grubenv file. This means

                bootcount, resin_root_part and upgrade_available variables need

                to be moved to grubenv.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.77.0
          date: 2021-05-05T15:18:01.595Z
        - commits:
            - subject: 'kernel: Always include overlayfs support'
              hash: ddb5dff6b146dfc252aeecede59ad3acc79683f7
              body: >
                This is needed in preparation for storage migration from aufs to
                overlayfs.

                When running hostapp-update, we need to create the target
                hostapp on

                overlayfs, which implies the OS we update from can support both
                drivers
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.76.0
          date: 2021-04-30T16:01:42.415Z
        - commits:
            - subject: 'grub: grub-efi: buildin gzio for gz compressed kernels'
              hash: 6e0dd4407077d66fa9a0ac16b38a83f6cd46e9b2
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
                signed-off-by: Joseph Kogut <joseph.kogut@gmail.com>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.75.1
          date: 2021-04-29T19:31:21.361Z
        - commits:
            - subject: Update mobynit to the new multi-container hostOS specification
              hash: 93335381320815dbe7b2d21233106910a200e2f5
              body: >
                Update mobynit to use the new multi-container hostOS
                specification
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update mobynit to the new multi-container hostOS specification
                changelog-entry: Update mobynit to the new multi-container hostOS specification
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.75.0
          date: 2021-04-22T12:36:31.239Z
        - commits:
            - subject: 'balena-engine: Update to 19.03.18'
              hash: 32705abbf93971bdddb980fe0c7a01b40d229560
              body: >
                This brings in the aufs-to-overlay migrator. Which won't run
                until we

                configure the engine service to include an
                `BALENA_MIGRATE_OVERLAY=1`

                env var.


                The other notable change is the fix for

                https://github.com/balena-os/balena-engine/issues/236 which
                allows

                `balena top` to work as expected on balenaOS
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.74.0
          date: 2021-04-20T20:48:58.556Z
        - commits:
            - subject: >-
                modemmanager:u-blox-switch: Rework the u-blox modem switch to
                ECM mode
              hash: 9de54188ea47e121a7f408ae1c65f70f53d3a634
              body: >
                We need to make sure the modem is completely initialized before
                sending

                the AT commands that do the switch to ECM mode. To achieve this
                we

                change the systemd service dependency to depend on
                ModemManager.service

                and then we determine the modem state by using mmcli and
                querying the

                modem power-state property.


                This procedure will only be done once. After the modem is placed
                in ECM

                mode, it will stay in this mode for future reboots so there will
                be no

                other delays in bringing up the modem connection.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.73.15
          date: 2021-04-20T09:21:07.975Z
        - commits:
            - subject: 'device-progress: do not force an exit code'
              hash: f080936299781d121866de112e6930fa2f261fac
              body: >
                this script is only used during provisioning and HUP. in
                provisioning we `|| true` anyway, and

                in HUP we would like to use the exit code for retrying
              footer:
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
                Change-type: patch
                change-type: patch
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.73.14
          date: 2021-04-19T14:59:22.521Z
        - commits:
            - subject: add retries to status check
              hash: 73e7cae10974974eeb180fd18551f6da67432101
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.73.13
          date: 2021-04-19T10:30:12.192Z
        - commits:
            - subject: 'meta-balena: rename resin-vars to balena-config-vars'
              hash: 7d019abde039a469212c59bcf6e1b7a94ed365d6
              body: >
                Rename the 'resin-vars' script to 'balena-config-vars' and
                update all

                references.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: 'meta-balena: rename resin-vars to balena-config-vars'
                changelog-entry: 'meta-balena: rename resin-vars to balena-config-vars'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.73.12
          date: 2021-04-16T12:31:11.982Z
        - commits:
            - subject: 'patch: Add strict bootcount count condition'
              hash: a340d4ddd09515eedb125cbc57d39531ade2566a
              body: ''
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
            - subject: 'patch: Reactivate Persistent Logging test'
              hash: 572e287bb93deae01786b025ad116d4d78a6b918
              body: ''
              footer:
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.73.11
          date: 2021-04-16T07:39:41.833Z
        - commits:
            - subject: 'repo.yml: Move balena-supervisor reference to balena-os'
              hash: 7d9433e3c41c37ba3d9cea51d894b520be81d899
              body: >
                The balena-supervisor repository has been moved to balena-os so
                the

                repo.yml file needs to be corrected for nested changelogs to
                work again.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.73.10
          date: 2021-04-14T14:10:09.817Z
        - commits:
            - subject: Update balena-supervisor from v12.5.6 to v12.5.10
              hash: 36a1b1e9808db5d2c70f06209f868b24bd8643b1
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.5.6 to v12.5.10
                changelog-entry: Update balena-supervisor from v12.5.6 to v12.5.10
                Signed-off-by: Christina Wang <christina@balena.io>
                signed-off-by: Christina Wang <christina@balena.io>
              author: Christina Wang
              nested: []
          version: meta-balena-2.73.9
          date: 2021-04-14T11:26:13.292Z
        - commits:
            - subject: >-
                resin-mounts/etc-fake-hwclock: add dependency on resin-state
                services
              hash: 2b07011844a2738aec033d88af29e3f6e0dd28a2
              body: >
                Added a dependency on resin-state.service and
                resin-state-reset.service

                to etc-fake-hwclock.mount.


                On initial boot after flashing a device the
                resin-state-reset.service

                was running after etc-fake-hwclock.mount causing the bind mount
                point

                /mnt/state/root-overlay/etc/fake-hwclock to be deleted after it
                had

                been mounted. This resulted in a failure to save the date/time
                at

                shutdown which caused problems with persistent logging at next
                boot.

                Subsequent boots are unaffected as resin-state-reset does not
                run.

                Adding a dependency on the resin-state services ensures that the

                bind mount point is created after the state reset has been
                performed.


                This issue was noticed when running the testbot unmanaged OS
                image

                persistent logging test. When running a managed OS image the
                device

                normally reboots fairly immediately after connecting to the

                balena-cloud host and receiving parameter updates, so this issue
                is

                not usually noticeable.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: '#2146 #2143'
                connects-to: '#2146 #2143'
                Changelog-entry: >-
                  resin-mounts/etc-fake-hwclock: add dependency on resin-state
                  services
                changelog-entry: >-
                  resin-mounts/etc-fake-hwclock: add dependency on resin-state
                  services
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.73.8
          date: 2021-04-13T14:21:01.455Z
        - commits:
            - subject: fix udev test indentation
              hash: dedfa47ca1fbae4cd8b96eb05cf093ae3f9432d9
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: Added comments for easier debugging
              hash: c3085492fe85b314e1644870e614531fa6bde6a8
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
            - subject: Fix old tests + add new tests based on testlodge
              hash: 2c8ab0f0962cca1b6fecb25b9a2dbe62acf4cf6a
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Ryan Cooke <ryan@balena.io>
                signed-off-by: Ryan Cooke <ryan@balena.io>
              author: rcooke-warwick
              nested: []
          version: meta-balena-2.73.7
          date: 2021-04-13T10:43:37.477Z
        - commits:
            - subject: >-
                Add automated test checking for udev/resin_update_state_probe
                warnings
              hash: e6bcff01fcf520756b140ad3b4352583f4bc825e
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: 'udev: Silence warnings from resin_update_state_probe'
              hash: 5a0bed933fd9730e507305c6098698c4a1970c6e
              body: >
                At this moment resin_update_state_probe is scanning pretty much
                every

                block device for rootfs. This include ramdisks, zram and loop
                devices

                which, when scanned, even spam warnings in logs. This patch
                updates

                the udev rule to skip such devices and only trigger on add or
                change

                events.
              footer:
                Relates-to: '#1989'
                relates-to: '#1989'
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.73.6
          date: 2021-04-12T12:17:29.995Z
        - commits:
            - subject: Update balena-supervisor from v12.4.6 to v12.5.6
              hash: 6852b3704575ce5535082e2c02a7f2c6f57e1df4
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.4.6 to v12.5.6
                changelog-entry: Update balena-supervisor from v12.4.6 to v12.5.6
                Signed-off-by: Christina Wang <christina@balena.io>
                signed-off-by: Christina Wang <christina@balena.io>
              author: Christina Wang
              nested: []
          version: meta-balena-2.73.5
          date: 2021-04-06T02:41:31.071Z
        - commits:
            - subject: Add to persistent logging defn
              hash: a763533ee5d589394584e5990bd89ca6d18365c5
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Andrew Nhem <andrew@balena.io>
                signed-off-by: Andrew Nhem <andrew@balena.io>
              author: Andrew Nhem
              nested: []
          version: meta-balena-2.73.4
          date: 2021-03-20T00:50:55.294Z
        - commits:
            - subject: 'wifi: remove listed example as it''s discontinued'
              hash: c539b4c6c671fca2cd0fabc7416e2bbd0b20ee44
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Tomás Migone <tomas@balena.io>
                signed-off-by: Tomás Migone <tomas@balena.io>
              author: Tomás Migone
              nested: []
          version: meta-balena-2.73.3
          date: 2021-03-19T19:05:13.959Z
        - commits:
            - subject: 'hostapp-update: convert absolute symlinks to relative'
              hash: fa8b5a4d2836510c5257d75c65542d374f628407
              body: >
                Symlinks to /boot and /sbin/init are absolute, which breaks them
                when

                the sysroot is mounted under another system.


                Convert them to relative links, so they work in all cases.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.73.2
          date: 2021-03-17T18:30:51.715Z
        - commits:
            - subject: Update balena-supervisor from v12.3.5 to v12.4.6
              hash: 8399bdf47ded925e74e48b128b4f7b2452008dd5
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.3.5 to v12.4.6
                changelog-entry: Update balena-supervisor from v12.3.5 to v12.4.6
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
              author: Felipe Lalanne
              nested: []
          version: meta-balena-2.73.1
          date: 2021-03-16T13:08:50.984Z
        - commits:
            - subject: 'image_types_balena: make rootfs labeling generic'
              hash: 924bb046c94ea9a6db516733f727c18bc47fc0e7
              body: ''
              footer:
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
                Change-type: patch
                change-type: patch
              author: Joseph Kogut
              nested: []
            - subject: 'image_types_balena: make agnostic to root fstype'
              hash: 71553d47174d8dc28777b0d0a6723418192ad8e4
              body: >
                Build BALENA_HOSTAPP_IMG path using BALENA_ROOT_FSTYPE instead
                of assuming

                the root is ext4.
              footer:
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
                Change-type: patch
                change-type: patch
              author: Joseph Kogut
              nested: []
            - subject: 'mkfs-hostapp-native: make agnostic to fstype'
              hash: 295976261f44650bd108eafcb53b3d24f6a28671
              body: >
                Remove assumptions about root fstype. Rename create to
                create.ext4,

                mkfs.hostapp-ext4 to mkfs.hostapp, and add an argument to
                mkfs.hostapp

                for fstype. Remove CMD from Dockerfile in favor of passing it as
                an

                argument to docker run.
              footer:
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
                Change-type: minor
                change-type: minor
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.73.0
          date: 2021-03-15T20:56:51.275Z
        - commits:
            - subject: 'balena: dissolve healthcheck-image-load into healthcheck script'
              hash: 7983e9bfd716aaedad1ef5f1468b2771e1f5a71c
              body: >
                Previously we were loading the healthcheck image from it's own
                service

                that was previously made `PartOf=` the balena.service.

                This was done in an attempt to help get the system unstuck when
                the

                image is removed (like through manual pruning), which would
                cause the

                healthcheck to trigger the engine to reboot until the load
                service was

                restarted by hand.


                Further investigation found a race between the first execution
                of the

                engine healthcheck script (which needs the image to be loaded)
                and the

                loader service itself, which would lead to a similar state,
                requireing

                manual intervention.


                This change moves the loading into the healthcheck script
                itself,

                allowing us to remove the loader script and service entirely,
                skipping

                the whole service ordering issue.
              footer:
                Backport-to: next
                backport-to: next
                Connects-to: '#2122'
                connects-to: '#2122'
                Change-type: patch
                change-type: patch
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.72.2
          date: 2021-03-15T13:36:10.137Z
        - commits:
            - subject: Fix disablement of userspace firmware loading requests
              hash: 98fad0bbfd179f16c5985a3281af25b4801af6e9
              body: >
                This option depends on FW_LOADER_USER_HELPER which will be
                enabled if

                _FALLBACK is set to 'y', which is the default in the arm64
                defconfig

                since Linux 5.4+.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix disablement of userspace firmware loading requests
                changelog-entry: Fix disablement of userspace firmware loading requests
                Signed-off-by: Pelle van Gils <pelle@vangils.xyz>
                signed-off-by: Pelle van Gils <pelle@vangils.xyz>
              author: Pelle van Gils
              nested: []
          version: meta-balena-2.72.1
          date: 2021-03-11T09:52:01.508Z
        - commits:
            - subject: 'os-config: Update os-config from v1.1.4 to v1.2.0'
              hash: 76bae0c1e32d82b0371d99094965538a05fa3387
              body: |
                Update os-config from 1.1.4 to 1.2.0
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested:
                - commits:
                    - subject: 'os-config: rename flasher flag path'
                      hash: 3622cc8cdf38f42c1f38fb6d5c67dde16631d6f0
                      body: >
                        As part of a full rename away from legacy resin
                        namespaces the

                        following os-config compatibility changes are required
                        to align

                        with meta-balena changes.


                        - rename resin-image-flasher to balena-image-flasher
                      footer:
                        Change-type: minor
                        change-type: minor
                        Connects-to: 'https://github.com/balena-os/meta-balena/pull/2118'
                        connects-to: 'https://github.com/balena-os/meta-balena/pull/2118'
                        Signed-off-by: Kyle Harding <kyle@balena.io>
                        signed-off-by: Kyle Harding <kyle@balena.io>
                      author: Kyle Harding
                  version: os-config-1.2.0
                  date: 2021-02-23T20:19:36.114Z
            - subject: Rename resin image types to balena
              hash: 057621ad646f1958328c688994ef7f6fb48b9012
              body: |
                As part of a full rename away from legacy resin namespaces the
                following components have been renamed:

                - resinos-img -> balenaos-img
                - image_types_resin -> image_types_balena
                - image-resin -> image-balena
                - resin-image -> balena-image
                - resin-image-flasher -> balena-image-flasher
                - resin-image-initramfs -> balena-image-initramfs
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Rename resin image types to balena
                changelog-entry: Rename resin image types to balena
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.72.0
          date: 2021-03-10T20:00:01.558Z
        - commits:
            - subject: Apply aufs patches if aufs is present in kernel config
              hash: 8094dc7a3a36cfc4f1c0da5be66dc666e29b7dbe
              body: >
                Allow installing and patching aufs even if BALENA_STORAGE is
                overlay2
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Apply aufs patches if aufs is present in kernel config
                changelog-entry: Apply aufs patches if aufs is present in kernel config
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.71.7
          date: 2021-03-08T13:49:52.854Z
        - commits:
            - subject: 'grub-efi: build required modules into grub image'
              hash: 5e1004d6753025166c40b11af117e008feb875f1
              body: >
                grub-efi requires modules to be installed in the boot partition,
                and

                resin-image installs them from ${DEPLOYDIR}.


                A normal grub installation installs those modules to
                ${PREFIX}/${libdir}

                to allow grub tooling to install them at runtime, but we're
                building the

                image with GRUB baked in, so we don't need those in the sysroot.


                The first iteration of this bbappend attempted to solve these

                constraints by copying the modules from ${D}/${libdir}/grub/ to

                ${DEPLOYDIR} in do_deploy(), then removing ${D}${prefix}. This
                had the

                unfortunate side effect of breaking the build in certain cases,
                such as

                clean builds or reexecuting do_deploy() without the other steps
                of the

                build.


                Instead, remove the unwanted files in do_install(), and append
                the

                required modules to GRUB_BUILDIN to create a standalone grub
                image

                without any external modules at all.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.71.6
          date: 2021-03-05T22:03:28.222Z
        - commits:
            - subject: >-
                initrdscripts: always use by-uuid symlink looking for flasher
                rootfs
              hash: d16ad58f6efe76c9313226735de88648e54d2420
              body: >
                If the device with flasher rootfs is slow to bring up and rootfs
                is defined

                as UUID=xxx the waiting loop in rootfs initrd script would
                assume UUIDs have

                just been regenerated and wait for a by-state symlink instead.
                This only works

                for the OS - flasher does not use the dynamically generated
                UUIDs

                therefore we always want to use the by-uuid link for it.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.71.5
          date: 2021-03-03T19:17:32.016Z
        - commits:
            - subject: Update OS test suite
              hash: 6c82ffb23c05e334ae2157c8e6c0f3e197467d2f
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.71.4
          date: 2021-03-01T11:03:02.277Z
        - commits:
            - subject: >-
                balena: Make the healthcheck loading service part of
                balena.service
              hash: c26f2d203a87d1578d9d52d5bbd8b0b18869916e
              body: >
                This prevents issues with the health check when the image is
                manually

                removed.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: 'https://github.com/balena-os/meta-balena/issues/2010'
                connects-to: 'https://github.com/balena-os/meta-balena/issues/2010'
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.71.3
          date: 2021-02-26T12:34:11.073Z
        - commits:
            - subject: 'dnsmasq: enable dbus support'
              hash: 372980ca6aa6bd2793ac856c303c3b3ac4eeffdb
              body: >
                This config option is disabled by default in the upstream
                package

                so I'm including the change here as a separate commit.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: 'dnsmasq: update to 2.84 with dnspooq fix'
              hash: 3afbe8dfbbaf9f73a09048e0350622535befa0a8
              body: >
                https://github.com/balena-os/meta-balena/issues/2099


                Copy dnsmasq 2.84 recipe and files from this upstream patch:


                http://cgit.openembedded.org/meta-openembedded/commit/meta-networking/recipes-support/dnsmasq?id=3e28a31bb479f292b9a052a3d2eee84c49319ee3
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.71.2
          date: 2021-02-23T19:57:37.313Z
        - commits:
            - subject: 'recipes-bsp: grub: install only release modules'
              hash: 78a8049218d8ce3a9172b7fca6fe00270544e7f1
              body: >
                GRUB builds modules with both debug and release variants, with
                *.module

                and *.mod extensions respectively.


                Install only the release modules in do_deploy() to avoid
                balooning the

                size of the boot partition.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.71.1
          date: 2021-02-23T17:59:51.133Z
        - commits:
            - subject: 'meta-balena-common: add grub-efi support'
              hash: 3bfbd05d81d59c82fb131117700325416fb152cb
              body: >
                Use upstream grub and grub-efi recipes with a new grub-conf
                recipe

                employing a config template.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.71.0
          date: 2021-02-15T17:58:51.450Z
        - commits:
            - subject: Update PR template to specify test coverage in more detail
              hash: ce0bb95e1d045ef32c377d4fc9de959c6ebbfd88
              body: >
                All PRs should include details about test coverage, including
                whether the

                tests are automated on manually recorded.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Update codeowners
              hash: a00b54679aa6804f6a5c9fa75826764cf21c5c2e
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.70.2
          date: 2021-02-12T09:31:46.288Z
        - commits:
            - subject: Add leviathan automated OS test suite
              hash: 3f6d7588874721c506a70f66603d2b153f9a6fcf
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
                signed-off-by: Vipul Gupta (@vipulgupta2048) <vipul@balena.io>
              author: Vipul Gupta (@vipulgupta2048)
              nested: []
          version: meta-balena-2.70.1
          date: 2021-02-11T16:18:58.778Z
        - commits:
            - subject: 'systemd/timeinit: use systemd mount unit for /etc/fake-hwclock'
              hash: 7d6ec3d411af78b9b1f979b90461e9efb059e4e7
              body: >
                Replace the 'bind-etc-fake-hwclock.service' with a systemd mount

                unit (etc-fake\x2dhwclock.mount).


                Using a systemd service to bind mount the /etc/fake-hwclock
                directory

                results in systemd generating an internal mount unit for the
                same

                directory. This causes problems at shutdown when both methods
                try to

                unmount the directory. This frequently leads to the directory
                being

                unmounted before the fake-hwclock service has managed to save
                the

                system time. This results in an inaccurate fake-hwclock time

                at next boot and corruption of the journal log.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: '#1919 #2107'
                connects-to: '#1919 #2107'
                Changelog-entry: 'systemd/timeinit: use systemd mount unit for /etc/fake-hwclock'
                changelog-entry: 'systemd/timeinit: use systemd mount unit for /etc/fake-hwclock'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.70.0
          date: 2021-02-11T10:02:08.246Z
        - commits:
            - subject: Update balena-supervisor from v12.3.0 to v12.3.5
              hash: 8f8a57760b82a1378adc078c86bb25aeafd7d6e8
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update balena-supervisor from v12.3.0 to v12.3.5
                changelog-entry: Update balena-supervisor from v12.3.0 to v12.3.5
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: meta-balena-2.69.1
          date: 2021-02-03T23:42:05.644Z
        - commits:
            - subject: 'openvpn: remove resin-ntp-config call from upscript.sh'
              hash: 958cd8f4bfc5d052d29c5d60c43e9ede58e39825
              body: >
                Running resin-ntp-config from openvpn upscript.sh is no longer

                necessary as it is now run automatically when config.json
                changes.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: '#2073'
                connects-to: '#2073'
                Changelog-entry: 'openvpn: remove resin-ntp-config call from upscript.sh'
                changelog-entry: 'openvpn: remove resin-ntp-config call from upscript.sh'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: 'resin-vars: trigger NTP config script on config.json changes'
              hash: 8dd222087f58c596bf3d30a956c985fcb0214baa
              body: |
                Add resin-ntp-config.service to config-json.service so that the
                resin-ntp-config script is automatically run on changes to
                config.json.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: '#2073'
                connects-to: '#2073'
                Changelog-entry: 'resin-vars: trigger NTP config script on config.json changes'
                changelog-entry: 'resin-vars: trigger NTP config script on config.json changes'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: 'resin-ntp-config: update script and add systemd service'
              hash: 7084f736b988706f71fe1d1ec95db6641be8a85e
              body: >
                Update the resin-ntp-config script to work with dynamic chrony

                source configuration. Any NTP sources configured by config.json

                are added to a chrony sources file. Changes to the sources file

                are picked up by chrony either when it starts up or at runtime

                using the chrony-helper script.


                A systemd service has been added to run the resin-ntp-config
                script

                once at boot. Previously the script was being run up to 8 times
                at

                boot via a NetworkManager dispatcher script.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: '#2073'
                connects-to: '#2073'
                Changelog-entry: 'resin-ntp-config: update script and add systemd service'
                changelog-entry: 'resin-ntp-config: update script and add systemd service'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: 'networkmanager: add improved dispatcher scripts for NTP handling'
              hash: 23e52eaca7f0983ac6da27289fc293e43e7dbebd
              body: >
                Update the existing DHCP dispatcher script for adding NTP
                sources to

                make use of dynamic chrony source configuration. Any DHCP
                configured

                NTP sources for a particular interface are added to a sources
                file on

                network 'up' or DHCP lease renewal events. Any DHCP configured
                NTP

                sources for a particular interface are deleted on network 'down'

                events. Changes to the sources file are picked up by chrony
                either

                when it starts up or at runtime using the chrony-helper script.


                Add a dispatcher script to trigger the chrony online/offline

                status on network 'up' and 'down' events. This will make chrony

                re-run an iburst for sources when the appropriate network
                interface

                comes back up.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: '#2073'
                connects-to: '#2073'
                Changelog-entry: >-
                  networkmanager: add improved dispatcher scripts for NTP
                  handling
                changelog-entry: >-
                  networkmanager: add improved dispatcher scripts for NTP
                  handling
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: 'chrony: add sourcedir support and helper script'
              hash: d6c64b0a08b64593d6684605bd5268f28ff1b1c9
              body: >
                Add the 'sourcedir' parameter to the chrony configuration to
                support

                dynamic source configuration files. Any NTP source files that
                are

                created in 'sourcedir' (/run/chrony) can be used to update the
                chrony

                source configuration at runtime.


                Add a helper script to support the dynamic re-loading of chrony

                sources. This script uses the chrony 'reload sources' feature.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: '#2073'
                connects-to: '#2073'
                Changelog-entry: 'chrony: add sourcedir support and helper script'
                changelog-entry: 'chrony: add sourcedir support and helper script'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.69.0
          date: 2021-02-01T09:33:15.826Z
        - commits:
            - subject: Fix task ordering for the iwlwifi_firmware_clean task
              hash: 5d039b111a964e21a637a5c7806aea6bb510a43e
              body: >
                We need to make sure the firmware cleanup function runs before

                do_populate_sysroot otherwise do_populate_sysroot will race with
                it and

                will fail complaining about the missing firmware that

                iwlwifi_firmware_clean had just deleted at the same time.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix task ordering for the iwlwifi_firmware_clean task
                changelog-entry: Fix task ordering for the iwlwifi_firmware_clean task
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.68.1
          date: 2021-01-29T13:02:49.703Z
        - commits:
            - subject: Update NetworkManager to 1.28.0
              hash: 20e9c276f8d79b6051066e24b159c8bd9ffe3bc2
              body: >
                Fixes #2075


                Needed were a number of various changes to make the package
                compile properly:


                Removed is
                0001-wwan-Set-MTU-based-on-what-ModemManager-exposes.patch that
                is now

                included upstream.


                Our patch for removing HTTPS connectivity checking warning is
                reworked for ease of

                maintainance. It now keeps the log entry, but changes it to
                debug level.


                Fixed are UPSTREAM_CHECK_* definitions as they referenced a
                wrong version number.


                The following additional configuration options were
                added/removed:


                *. Introspection is disabled through
                `--enable-introspection=no`. Other services do

                not depend on it, so it is safe to remove it. A related patch is
                no longer needed

                0002-Do-not-create-settings-settings-property-documentati.patch


                *. A new option for using firewalld zone for shared mode is
                disabled as we do not

                use firewalld.


                *. The polkit agent option no longer is available, so
                `--enable-polkit-agent` and

                `--disable-polkit-agent` are no longer defined.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Update NetworkManager to 1.28.0
                changelog-entry: Update NetworkManager to 1.28.0
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.68.0
          date: 2021-01-29T09:45:01.458Z
        - commits:
            - subject: 'docs: mention balenaRootCA as a config.json parameter'
              hash: d0be88530c630d68f8582dce99442c6d94ba5455
              body: ''
              footer:
                Connects-to: 'https://github.com/balena-os/meta-balena/issues/2011'
                connects-to: 'https://github.com/balena-os/meta-balena/issues/2011'
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.67.6
          date: 2021-01-28T17:45:30.693Z
        - commits:
            - subject: 'replace busybox ps with procps [klutchell]'
              hash: 00556af37cf241e2b95d9b719f1ab58cc9bbddb6
              body: >
                Replace busybox ps link with ps.procps without installing

                any other procps packages. This will avoid regression and bloat

                from swapping existing busybox links with procps variants.


                By using procps as docker expects we can properly handle ps args

                such as -e and -o to format output. Busybox is only capable of
                this

                when compiled in "desktop" mode.


                This upstream commit to poky has already split the ps binary
                into

                a separate procps package:


                -
                https://git.yoctoproject.org/cgit/cgit.cgi/poky/commit/?id=507a47a4e5077d5f8f76d9629be6b871dfd8eb90


                So for now we can copy this recipe at the commit above into
                compat branches

                and use that version until we pick up a branch newer than
                gatesgarth.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: 'https://github.com/balena-os/balena-engine/issues/236'
                connects-to: 'https://github.com/balena-os/balena-engine/issues/236'
                Changelog-entry: 'replace busybox ps with procps [klutchell]'
                changelog-entry: 'replace busybox ps with procps [klutchell]'
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.67.5
          date: 2021-01-27T18:47:18.617Z
        - commits:
            - subject: Update aufs4 and aufs5 kernel patches
              hash: 62231bee3dd12698522130b224371ff82a3de567
              body: |
                We update to the newest patch revisions from upstream
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Update aufs4 and aufs5 kernel patches
                changelog-entry: Update aufs4 and aufs5 kernel patches
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.67.4
          date: 2021-01-27T11:08:07.030Z
        - commits:
            - subject: 'kernel-headers-test: Install python dependency'
              hash: 6b648fa36bb8f7b2f90799a9c331210e34d3c438
              body: |
                Some makefiles for the kernel modules build, like for
                instance the one in the kernel for the lec-px30 machine,
                want python to be available in the environment. Let's add
                it to the build dependencies.
              footer:
                Change-type: Patch
                change-type: Patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.67.3
          date: 2021-01-15T11:10:16.824Z
        - commits:
            - subject: Fix pppd timeout when launched by NetworkManager
              hash: e86c83e9be007bbedf5bad8bb961931c4f4f649c
              body: >
                Fixes #1846


                UART modems (RaspberryPi HATs) are not working currently under

                balenaOS as NetworkManager times out while attempting to
                establish

                ppp connection. This is not a balenaOS specific issue.


                This commits adds a `connect ""` declaration to
                `/etc/ppp/options`

                to workaround this as the NULL default value causes the timeout.


                The connect option specifies an external script to establish the

                physical link. When using NetworkManager/ModemManager it is

                ModemManager that establishes the physical link before passing
                it

                to NetworkManager. Thus `connect` should be empty.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Fix pppd timeout when launched by NetworkManager
                changelog-entry: Fix pppd timeout when launched by NetworkManager
                Signed-off-by: Zahari Petkov <zahari@balena.io>
                signed-off-by: Zahari Petkov <zahari@balena.io>
              author: Zahari Petkov
              nested: []
          version: meta-balena-2.67.2
          date: 2021-01-14T12:39:10.901Z
        - commits:
            - subject: 'resin-device-register: Fix post provisioning state not reported'
              hash: 62016c3931c08cbc4c4bdb1e4069c6f9d9533b04
              body: >
                Starting with dee971c0dbeb6e8363f3e321af582e99627626e9, flasher

                images, which don't contain a supervisor version, try to
                register

                in the API using the parameter supervisor_version='null'.


                However, the API expects this parameter to be unset completely
                if

                there's no version to be reported during registration, otherwise

                the call fails and the device doesn't show up in dashboard
                during

                flashing or report the post-provisioning state.
              footer:
                Change-type: Patch
                change-type: Patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.67.1
          date: 2021-01-13T14:55:01.572Z
        - commits:
            - subject: Update balena-supervisor from v12.2.11 to v12.3.0
              hash: fc41d16085b331d032a3666fc25af7c43eee5369
              body: ''
              footer:
                Changelog-entry: Update balena-supervisor from v12.2.11 to v12.3.0
                changelog-entry: Update balena-supervisor from v12.2.11 to v12.3.0
                Change-type: minor
                change-type: minor
                Signed-off-by: Felipe Lalanne <felipe@balena.io>
                signed-off-by: Felipe Lalanne <felipe@balena.io>
              author: Felipe Lalanne
              nested: []
          version: meta-balena-2.67.0
          date: 2021-01-12T13:41:49.881Z
        - commits:
            - subject: Respect custom CA in supervisor
              hash: 4cf82392c78d804a18737de80dcfa6f8f34d0494
              body: >
                This is necessary because node has its own built-in CA bundle
                and ignores

                the system-wide bundle. Bind-mount the system-wide bundle to the
                supervisor

                container as well to keep the previous behavior. Make it
                read-only though,

                any modifications should be performed by the host OS.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Respect custom CA in supervisor
                changelog-entry: Respect custom CA in supervisor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.66.3
          date: 2021-01-12T09:38:46.408Z
        - commits:
            - subject: 'README: Rename resin-logo to balena-logo.'
              hash: 47a7a0ab9a99ea45b4fcf4e684d973088328eca9
              body: >
                The file rename happened in v2.51 but the README has not been
                updated

                accordingly.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.66.2
          date: 2021-01-11T17:30:40.806Z
        - commits:
            - subject: 'kernel-devsrc: use upstream recipe starting with dunfell'
              hash: 1300a223f5b58dd4584b62e87df41ec72f783961
              body: |
                Remove the kernel-devsrc package from meta-balena and
                use the one from the upstream Poky project instead.

                Initially I hoped thud and warrior could also use the respective
                upstreams but I see several differences between the meta-balena
                version and the upstreams so I updated those compat layers
                as well.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: 'gen_mod_headers: add missing arch headers to tools'
              hash: 5485f1fbc901a04eedbcc3b72cc95fdfb2d03665
              body: >
                Upstream changes to the kernel have switched to a shared x86

                insn decoder required by tools/objtool so we must add those

                include and lib components to our target dir.


                https://lore.kernel.org/lkml/20190830201021.utzjr6cs5hoxygyi@treble/T/
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.66.1
          date: 2021-01-04T13:06:56.017Z
        - commits:
            - subject: 'chrony: bump to version 4.0'
              hash: 67e8632a8a6c82dcf382b0204af40b79dd1a279a
              body: |
                Update chrony from version 3.4 to version 4.0.

                The new version has enhancements and new features that will
                help to improve time synchronisation, including:

                - the ability to add server pools via scripts using chronyc.
                - support for dynamic NTP source files that can be reloaded
                  as necessary (useful for DHCP and config.json sources).
                - source name options for improved handling of pool addresses.
                - repeat 'iburst' when a source is changed from offline to
                  online state.
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: 'chrony: bump to version 4.0'
                changelog-entry: 'chrony: bump to version 4.0'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.66.0
          date: 2020-12-18T11:02:16.858Z
        - commits:
            - subject: 'u-boot: Add required configuration for BalenaOS environment'
              hash: 401345c86a3a017dc548a94c7afa3977d547fc21
              body: >
                The BalenaOS u-boot environment patch requires u-boot to support
                importing

                and exporting of the environment as well as the fsuuid command.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.65.1
          date: 2020-12-17T10:39:35.947Z
        - commits:
            - subject: Update balena-supervisor from v12.1.1 to v12.2.11
              hash: 0f301c4bba35737149c6489b4cd6716506496372
              body: ''
              footer:
                Changelog-entry: Update balena-supervisor from v12.1.1 to v12.2.11
                changelog-entry: Update balena-supervisor from v12.1.1 to v12.2.11
                Change-type: minor
                change-type: minor
                Signed-off-by: Miguel Casqueira <miguel@balena.io>
                signed-off-by: Miguel Casqueira <miguel@balena.io>
              author: Miguel Casqueira
              nested: []
          version: meta-balena-2.65.0
          date: 2020-12-14T22:04:19.165Z
        - commits:
            - subject: Add IPV6 multicast routing capability
              hash: 510bb7a7107f538f56c35a87a7426e7c12a3cdb3
              body: >
                Add IPV6 multicast routing capability to the default
                configuration.


                Fixes #2051
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add IPV6 multicast routing capability
                changelog-entry: Add IPV6 multicast routing capability
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.64.4
          date: 2020-12-14T12:36:30.487Z
        - commits:
            - subject: 'Revert "resin-data.mount: Remove default dependencies"'
              hash: 0101e6289b2a05ab688db43f73772ebfeeb97c53
              body: >
                This reverts commit dc6cfa2e90b29b0fdcfc05c1b85e2196de4f950b.


                Once the core problem with the resin-data mount has been fixed
                this

                commit is no longer needed.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'hostapp-update-hooks: Add supervisor database fix'
              hash: f3e7e164cf095218c1f92f2afecdd186cbbdfadd
              body: >
                When adding hostapp extension support to mobynit, in:

                https://github.com/balena-os/meta-balena/commit/6be3f1153d56c1c0c21e6d84db7be70be96bcd10


                the supervisor database was relocated by mistake. On this
                version the database

                returns to its original place, and these hooks copy the old
                database to the

                new location to avoid data loss.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'resin-supervisor: Make sure the database directory exists'
              hash: d070fe38a3b2a91fcc7c07d716fa90fdd3e9d078
              body: >
                If this directory is removed by mistake, the supervisor will not
                be

                able to start.


                This commit checks the directory existence and creates it if
                required

                independently of whether the supervisor container is present.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Correct the data partition mountpoint
              hash: 36dca74acc9e7db23b8980fff735360332927125
              body: |
                Correct the mount point for the resin-data directory.

                Fixes https://github.com/balena-os/meta-balena/issues/2070
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Correct the data partition mountpoint
                changelog-entry: Correct the data partition mountpoint
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.64.3
          date: 2020-12-11T07:52:52.415Z
        - commits:
            - subject: >-
                meta-balena-common: kernel-resin: enable task-accounting by
                default
              hash: d308c67666e612fad7e6bb7ac88d5bec2bfd8f9e
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
            - subject: 'meta-balena-common: kernel-resin: create task-accounting config'
              hash: ea3c787c5ad31af758844a0242a9d9baf1a47135
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.64.2
          date: 2020-12-10T10:19:16.893Z
        - commits:
            - subject: Update codeowners
              hash: d18fc8cdfab02a4c5016b29eca23b4f1f73c7e9b
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.64.1
          date: 2020-12-09T08:47:40.115Z
        - commits:
            - subject: 'rust: remove merged fix for TUNE_FEATURES parsing'
              hash: 9a4ea159051825461007cff90c7c370ce74d7680
              body: >
                https://github.com/meta-rust/meta-rust/issues/240

                https://github.com/meta-rust/meta-rust/pull/242


                The fix for TUNE_FEATURES parsing has been merged in meta-rust
                master

                and should be present when they fork for dunfell.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: 'systemd: update patches to avoid fuzzy matching'
              hash: 03d64e57466c66acd710b089c4ae8d777f963554
              body: >
                The content applied by the patches has not changed, just the
                context

                in order to properly inject changes without fuzzy matching since
                the source

                files have changed upstream.


                `devtool modify systemd`

                `devtool finish --force-patch-refresh systemd
                ../layers/meta-balena/meta-balena-dunfell/`
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: 'systemd: add missing udev rules'
              hash: 02b48c9523ff5ed36cc2cfd94225ea4234649371
              body: >
                https://github.com/balena-os/poky/commit/e3cd4e584239c207e3c82bdf5d7216d26fd28fc7


                add missing udev rules since systemd began including rules
                explicitly
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: 'systemd: avoid conflicts with timeinit package'
              hash: 97d14daa8f1bc8887883fd56c1512bdd51b2e351
              body: |
                Both systemd and timeinit attempt to install time-set.target so
                we will remove the systemd version during install.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: 'dropbear: prevent conflicts with openssh'
              hash: 169c1652e46e3a31d4f96bb98cbcf8240f3453ca
              body: >
                [https://github.com/balena-os/poky/commit/d365948ebd76625f82ef04e77d35bcfeced42fec]


                Dropbear is still required to migrate keys. Avoid the upstream
                conflict with openssh.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: 'networkmanager: add bash requirement'
              hash: 9d380ec203a80afc15b4c902c36da7c25300515d
              body: |
                99dhcp_ntp in networkmanager requires bash
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: 'networkmanager: remove deprecated bluetooth inherit'
              hash: 1993db9f3027936119248bd193e350456ba035bc
              body: >
                In poky dunfell and newer the bluetooth class has been
                deprecated.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: >-
                meta-balena-common: replace distro_features_check with
                features_check
              hash: c907611d66aa4d2ff27f9940178cbcdbc2273459
              body: >
                Replace distro_features_check that was deprecated upstream in
                dunfell.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: 'avahi: remove example services'
              hash: 317c7a6404195e78a21c76e43f8743a47cf542d1
              body: >
                In dunfell the example ssh service files don't exist so avoid
                failing

                during do_install for services that we don't use anyway.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: 'u-boot: disable u-boot-initial-env'
              hash: 9346f58cdd73924aec4279861ff43611c125ab5d
              body: >
                https://github.com/balena-os/poky/commit/d7b8ae3faa9344f2ada22e0402066c2fff5958c6


                We have no use for u-boot-initial-env and enabling it would
                require

                additional changes in do_compile to match the commit linked
                above.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: 'dnsmasq: fix build after y2038 changes in glib'
              hash: fca86497476cf3d275ae3d4f8274d51b6b96a9b8
              body: >
                SIOCGSTAMP is defined in linux/sockios.h, not asm/sockios.h

                http://thekelleys.org.uk/gitweb/?p=dnsmasq.git;a=commit;h=3052ce208acf602f0163166dcefb7330d537cedb
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: 'bluez5: replace experimental flag patch with service conf'
              hash: 8d5a67522eda56acb583c5ab26f6144fef7038a1
              body: >
                In dunfell, rather than patching the bluetooth.service.in file,

                we will just override the ExecStart value via
                bluetooth.conf.systemd
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: 'mtools: remove initialize-direntry patch'
              hash: c35b98165cc698188b978c34c7fb20f58a4c83e1
              body: >
                Remove initialize-direntry.patch that has been fixed in mtools
                4.0.23
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
            - subject: 'meta-balena-dunfell: dunfell compatibility layer support'
              hash: e8c34101f13d0327ac278207c8d7d500214f5f6f
              body: >
                Create meta-balena-dunfell layer base by copying
                meta-balena-warrior
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: 'meta-balena-dunfell: dunfell compatibility layer support'
                changelog-entry: 'meta-balena-dunfell: dunfell compatibility layer support'
                Signed-off-by: Kyle Harding <kyle@balena.io>
                signed-off-by: Kyle Harding <kyle@balena.io>
              author: Kyle Harding
              nested: []
          version: meta-balena-2.64.0
          date: 2020-12-07T16:42:10.390Z
        - commits:
            - subject: >-
                start-resin-supervisor: fix directory creation for 'balena
                start'
              hash: ce9e4f211a2356a866edee5ca3dbada3faa27689
              body: >
                Ensure that the /var/log/supervisor-log directory exists prior
                to

                running 'balena start --attach resin_supervisor' as well as

                'runSupervisor'.


                Updates to the 'start-resin-supervisor' script in v2.62.1
                removed

                the check for updates to the REGISTRY_ENDPOINT variable.
                Previously

                this had been detected as changing every time the script was run

                due to a comparison between 'null' and ''. This resulted in the

                'start-resin-supervisor' script always running through the

                'runSupervisor' path. With this variable check removed, and no
                config

                updates being detected, the script was trying to run

                'balena start --attach resin_supervisor' and failing due to the

                absence of the /var/log/supervisor-log directory. To fix this
                problem we

                unconditionally test for and create this directory (if
                necessary) so

                that it is available regardless of the path taken through the
                script.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: '#2064'
                connects-to: '#2064'
                Changelog-entry: >-
                  start-resin-supervisor: fix directory creation for 'balena
                  start'
                changelog-entry: >-
                  start-resin-supervisor: fix directory creation for 'balena
                  start'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.63.1
          date: 2020-12-04T17:24:10.321Z
        - commits:
            - subject: 'zram-swap-init: adjust default to lesser of 50%/4GB'
              hash: 155af3386029a0e76b74ee60d58c32ba72073a82
              body: >
                Copied from Fedora zram defaults [0]. This may be adjusted later
                after

                doing our own profiling.


                [0]
                https://fedoraproject.org/wiki/Changes/SwapOnZRAM#Default_zram_device_configuration:
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Joseph Kogut <joseph@balena.io>
                signed-off-by: Joseph Kogut <joseph@balena.io>
              author: Joseph Kogut
              nested: []
          version: meta-balena-2.63.0
          date: 2020-11-30T21:37:10.077Z
        - commits:
            - subject: 'chrony: use a non-privileged UDP source port'
              hash: 447449808ef08577712db43b1042599ad4d7d23c
              body: >
                Change the chrony UDP source port from 123 (privileged) to

                1234 (non-privileged).


                Previous issues with Phicomm routers had required the use of a
                fixed

                UDP source port, so port 123 was chosen as this is used by both
                ntpd

                and ntpdate. However recent testing has shown that using a
                privileged

                port such as 123 can cause issues on other networks. By changing
                the

                port to be non-privileged (i.e. 1234) we can satisfy both
                network

                requirements.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: '#2000'
                connects-to: '#2000'
                Changelog-entry: 'chrony: use a non-privileged UDP source port'
                changelog-entry: 'chrony: use a non-privileged UDP source port'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.62.2
          date: 2020-11-25T13:53:40.649Z
        - commits:
            - subject: 'supervisor: remove old/unnecessary balenaRootCA references'
              hash: 65c7c232082185ddecbedca579327f6c80686bc5
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.62.1
          date: 2020-11-19T20:26:12.667Z
        - commits:
            - subject: 'systemd/timeinit: improve RTC handling at boot'
              hash: 1c1374f3c8b5914b7e645f8068ebafc8b4cbbe3a
              body: >
                The handling of the RTC at boot time has been improved as
                follows:


                1) A 'timeinit-rtc.sh' script has been added to improve logging
                of
                   system time updates from the RTC and to prevent system time
                   being set when RTC time is behind system time. If RTC time is
                   found to be behind system time a warning is issued regarding
                   potential RTC battery failure.

                2) The 'timeinit-rtc.service' has been added to the new systemd
                   'time-set.target'. This allows for better control and
                   co-ordination between the various time source services.

                3) Systemd dependencies have been updated to ensure that the
                   RTC is the final time service before the 'time-set.target'
                   is reached.

                The 'timeinit-buildtime.sh' script has been updated to use the

                new support functions provided by the 'os-helpers-time' script.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: '#2048'
                connects-to: '#2048'
                Changelog-entry: 'systemd/timeinit: improve RTC handling at boot'
                changelog-entry: 'systemd/timeinit: improve RTC handling at boot'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: 'os-helpers: add support functions for system date/time'
              hash: 66d4d61b4e00f9da99de041d262a1f7b4bf70d37
              body: |
                Add helper functions for manipulating system date/time.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.62.0
          date: 2020-11-13T10:26:52.111Z
        - commits:
            - subject: 'modemmanager: add u-blox-modeswitch scripts'
              hash: a30ab44f40f1c059e64075c567fc388800d960a4
              body: >
                Add the u-blox-modeswitch scripts to modemmanager. The scripts
                are

                generic and therefore it makes sense to provide them as part of

                meta-balena instead of balena-raspberrypi.
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: '#510 (in balena-raspberrypi)'
                connects-to: '#510 (in balena-raspberrypi)'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.61.3
          date: 2020-11-05T17:05:16.519Z
        - commits:
            - subject: Check the API for configuration changes once a day
              hash: 19f6942a9864c6393a36af36aea21d685ddb9819
              body: ''
              footer:
                Connects-to: '#2018'
                connects-to: '#2018'
                Changelog-entry: Check the API for configuration changes once a day
                changelog-entry: Check the API for configuration changes once a day
                Change-type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.61.2
          date: 2020-11-05T14:41:20.617Z
        - commits:
            - subject: Enable kernel user space probes support
              hash: 8af9bc8fbc58096d986d8db7df81a0c9505dc420
              body: >
                This is needed to make use of eBPF and all the debugging and
                extra

                features it brings.
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Enable kernel user space probes support
                changelog-entry: Enable kernel user space probes support
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.61.1
          date: 2020-11-04T21:12:06.448Z
        - commits:
            - subject: Update balena-supervisor from v11.14.0 to v12.1.1
              hash: fd41103bc0538f53ac37bfb2ce6203f712090bc7
              body: |
                Update balena-supervisor from v11.14.0 to v12.1.1
              footer:
                Changelog-entry: Update balena-supervisor from v11.14.0 to v12.1.1
                changelog-entry: Update balena-supervisor from v11.14.0 to v12.1.1
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Use root mount point to find device-type.json
                      hash: 9d19a457017b1f696579f57569ec4cfadab3b385
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-12.1.1
                  date: 2020-10-28T13:03:20.901Z
                - commits:
                    - subject: Change log source from docker to journalctl
                      hash: 2c83864f22b01e7196f6ed321c96f6cb9f40593b
                      body: ''
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Thomas Manning <thomasm@balena.io>
                        signed-off-by: Thomas Manning <thomasm@balena.io>
                      author: Thomas Manning
                      nested: []
                  version: balena-supervisor-12.1.0
                  date: 2020-10-28T06:12:20.363Z
                - commits:
                    - subject: Change source of deviceType to device-type.json
                      hash: f5183df35677f091f1374c3f6e86706b141471f3
                      body: |
                        The source of truth for the device-type should be
                        device-type.json instead of config.json
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: '#1472'
                        connects-to: '#1472'
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.0.9
                  date: 2020-10-27T12:43:11.383Z
                - commits:
                    - subject: >-
                        Fixed evaluating if updates are needed to reach target
                        state
                      hash: 77333f1e110070f17f4bf95c1554075c94a35d63
                      body: ''
                      footer:
                        Closes: '#1476'
                        closes: '#1476'
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.0.8
                  date: 2020-10-26T18:56:16.649Z
                - commits:
                    - subject: Improved log message when networks do not match
                      hash: edf23871d9a057b9bae8837f3ee39d7401247514
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-12.0.7
                  date: 2020-10-19T16:04:51.506Z
                - commits:
                    - subject: >-
                        Fixes check allowing preloading in local (unmanaged)
                        mode
                      hash: 0fd9b6376251c73f2adfd37ec80d2145178683d6
                      body: |
                        * adds apiEndpoint empty string check
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: ab77
                      nested: []
                    - subject: Handle delete of multiple images with same dockerImageId
                      hash: 4795c336d055862706be42ebb544caef93d55e35
                      body: >
                        A docker-compose.yml with the following structure


                        ```

                        version: '2.1'

                        services:
                          app_1:
                            build: ./noisy-1
                            image: noisy1
                          app_2:
                            build: ./noisy-1
                            image: noisy1
                          app_3:
                            build: ./noisy-1
                            image: noisy1
                        ```


                        Will lead to the supervisor creating multiple image
                        database entries

                        with the same dockerId (this is because of how the
                        engine handles this

                        particular case). This case is not handled by the
                        removal process

                        leading to image pile up and increased disk usage.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: '#1434'
                        connects-to: '#1434'
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.0.6
                  date: 2020-10-16T22:32:07.462Z
                - commits:
                    - subject: Improve calculation for used system memory
                      hash: dd5f62227a0b0d2024db924e7028c9fec8b2b1d9
                      body: >
                        The memory information reported by the supervisor
                        currently

                        estimates the value of used memory as `MemTotal -
                        MemFree`.

                        However, linux systems will try to cache and buffer as
                        much

                        memory as possible, which will affect the output of
                        `MemFree`

                        (from /proc/meminfo) and in consequence the memory usage
                        seen

                        by the user on the dashboard, which will appear much
                        greater than

                        it is.


                        The correct calculation should be `MemTotal - MemFree -
                        Buffers - Cached`,

                        which the calculation performed by `htop` and the `free`
                        commands.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: '#1471'
                        connects-to: '#1471'
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-12.0.5
                  date: 2020-10-14T16:19:41.551Z
                - commits:
                    - subject: Don't require an existing supervisor container to sync
                      hash: 629b410e10fb6590806d546ff94101951ec6c9a2
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-12.0.4
                  date: 2020-10-13T09:49:51.370Z
                - commits:
                    - subject: Refactor system information filtering
                      hash: a2ceb5c93189704beaf8b4f5c8b71c46d8e2a966
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                    - subject: 'tests: Clean up and consistify naming scheme'
                      hash: 9e0c99e797fa379c66b7312b40a17d9d31f5ce79
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-12.0.3
                  date: 2020-10-12T14:46:39.730Z
                - commits:
                    - subject: Attempt a state report once every maxReportFrequency
                      hash: 0e3c0263922043b9d53a7eb3545622106f10100c
                      body: >
                        With the addition of the system information feature (CPU
                        temp) etc if

                        there wasn't any changes in the docker or config state
                        of the device,

                        updates in system information would not be sent to the
                        API. Now we

                        attempt to send data once every maxReportFrequency
                        (although this does

                        not mean that we will be sending data that often, we
                        still only send the

                        delta, if one exists)
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: '#1481'
                        closes: '#1481'
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                    - subject: >-
                        Remove superfluous current state reporting code from
                        api-binder
                      hash: 975129188a9fcb11a081f7ba75a1b8b973499a21
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-12.0.2
                  date: 2020-10-12T10:55:40.890Z
                - commits:
                    - subject: Add features label `io.balena.features.journal-logs`
                      hash: 1eeff698aca56558fa09832b9bcb02c99e275dbe
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Thomas Manning <thomasm@balena.io>
                        signed-off-by: Thomas Manning <thomasm@balena.io>
                      author: Thomas Manning
                      nested: []
                  version: balena-supervisor-12.0.1
                  date: 2020-10-12T05:41:14.895Z
                - commits:
                    - subject: 'version: drop SUPERVISOR_VERSION env var'
                      hash: 8e65466f2d8540918b1fa8d8af88d0c21fcbf7f8
                      body: >
                        In order to make supervisor upgrades more transparent,
                        lets move away

                        from this env var since it requires a container restart
                        any time the supervisor

                        is upgraded. We should ultimately move towards providing
                        the supervisors

                        set of capabilities, but that can come later
                      footer:
                        Connects-to: '#1447'
                        connects-to: '#1447'
                        Change-type: major
                        change-type: major
                        Signed-off-by: Matthew McGinn <matthew@balena.io>
                        signed-off-by: Matthew McGinn <matthew@balena.io>
                      author: Matthew McGinn
                      nested: []
                  version: balena-supervisor-12.0.0
                  date: 2020-09-29T15:25:15.693Z
                - commits:
                    - subject: Fix supervisor deadlock during migration
                      hash: adffde932ec28b114a5821b9ae332a42bb330be2
                      body: >
                        Due to the singleton work, when performing migration
                        M00005 and there

                        are apps with services created in the database, a
                        deadlock occurs

                        during database initialization due to a circular

                        dependency for generating scoped keys.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: '#1468'
                        connects-to: '#1468'
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-11.14.8
                  date: 2020-09-29T03:00:51.902Z
                - commits:
                    - subject: Correctly evaluate if scheduledApply.delay is not set
                      hash: 90981a00bed100e1496dc71bf0631bc0ab04ffa7
                      body: ''
                      footer:
                        Closes: '#1428'
                        closes: '#1428'
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.14.7
                  date: 2020-09-25T17:16:42.247Z
                - commits:
                    - subject: Fix config checks for ConfigFS backend
                      hash: a5f3002e708c949b6de3c8ba495b2a89c13214fc
                      body: >
                        When trying to apply SSDT overlays in Up Board, the
                        supervisor currently

                        gets stuck in a loop trying to apply target state. See
                        #1465


                        This was due to a bug in parsing the configuration,
                        which lead to

                        the method bootConfigChangeRequired returning true when
                        no change was

                        needed.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Felipe Lalanne <felipe@balena.io>
                        signed-off-by: Felipe Lalanne <felipe@balena.io>
                        Connects-to: '#1465'
                        connects-to: '#1465'
                      author: Felipe Lalanne
                      nested: []
                  version: balena-supervisor-11.14.6
                  date: 2020-09-24T19:51:09.936Z
                - commits:
                    - subject: 'mixpanel: superisor_version -> supervisor_version'
                      hash: eebadebb53af68d9b63c948e59c1c78fb38302aa
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Matthew McGinn <matthew@balena.io>
                        signed-off-by: Matthew McGinn <matthew@balena.io>
                      author: Matthew McGinn
                      nested: []
                  version: balena-supervisor-11.14.5
                  date: 2020-09-24T14:47:47.663Z
                - commits:
                    - subject: 'api: Implement scoped Supervisor API keys'
                      hash: c08de8701e49f417d2fc5849d237b9ed69b438e2
                      body: >
                        Each service, when requesting access to the Supervisor
                        API, will

                        now get an individual key which can be scoped to
                        specific resources.

                        In this iteration the default scope will be to the
                        application that

                        the service belongs to.


                        We also have a `global` scope which is used by the cloud
                        API when in

                        managed mode.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.14.4
                  date: 2020-09-18T13:02:39.469Z
                - commits:
                    - subject: >-
                        Clarify docs for toggling update lock override from
                        dashboard
                      hash: 1b51db06c118ab4c60296f394e854436584c6437
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: M. Casqueira
                      nested: []
                  version: balena-supervisor-11.14.3
                  date: 2020-09-17T22:25:21.020Z
                - commits:
                    - subject: Refactor extra_uEnv backend to match with more devices
                      hash: 07e644d0b69f412fb14aeaba17914b9eacd6477f
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.14.2
                  date: 2020-09-15T18:25:31.240Z
                - commits:
                    - subject: 'application-manager: Convert to a singleton'
                      hash: 96c68166a1e1d9b400fca84d33910d526009ecfd
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Rich Bayliss
                      nested: []
                    - subject: 'device-state: Convert to a singleton'
                      hash: e3864915bcf3b8c2865f3c14d2ad85023218db3c
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Rich Bayliss
                      nested: []
                    - subject: 'api-binder: Convert to a singleton'
                      hash: d50f7791e1f89750a35791c1ea3bd4a7472da9a1
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.14.1
                  date: 2020-09-14T10:26:09.557Z
          version: meta-balena-2.61.0
          date: 2020-11-04T13:01:10.938Z
        - commits:
            - subject: 'chrony: set the source UDP port for NTP requests to 123'
              hash: 6b95bd55f12054d996a412e7a6bc202e518b4e29
              body: >
                By default chrony uses a random UDP source port for each NTP
                request.

                This can cause problems with particular routers/firewalls
                (issues have

                been reported for the Phicomm KE 2P).


                The chrony `acquisitionport` configuration setting has been
                added

                to the chrony.conf file to change the UDP source port for NTP
                requests

                to 123 (this is the same as the default source port used by both

                ntpdate and ntpd).
              footer:
                Change-type: patch
                change-type: patch
                Connects-to: '#2000'
                connects-to: '#2000'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.60.1
          date: 2020-10-30T11:34:35.642Z
        - commits:
            - subject: 'chrony: don''t restore time from drift file or RTC'
              hash: 5a4842786f365c9d167f29fd310427b4f0bb61b6
              body: >
                Drop the '-s' command line parameter from chronyd as:

                a) restoring time from the drift file is no longer necessary due
                to

                the fake-hwclock service, and

                b) restoring time from the RTC is already covered by the
                timeinit-rtc

                service.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: >-
                systemd/timeinit: add fake.hwclock to maintain system time over
                reboots
              hash: 96c2c495819ba6175261a5179e1cdb4673552e6c
              body: >
                In order to produce sensible timestamps for journald log
                messages:

                a) the system time needs to be maintained correctly over a
                reboot, and

                b) the system time needs to be set before journald is started.


                Currently the system time is maintained over reboots on systems

                without an RTC using the last modified time of the chrony drift
                file.

                However there are a couple of issues with this approach:


                a) /var/lib/chrony/ is not mounted early enough in the boot
                process

                to be available for setting the time before journald is started.

                b) there is an issue with the current systemd dependencies that
                result

                in the last modified time of the drift file not being updated
                when the

                system is shutdown or rebooted (see #1995).


                The Debian fake-hwclock service (as used by Raspberry Pi OS) has
                been

                added to overcome these issues.


                The fake-hwclock service will save and restore the system time
                from

                the fake-hwclock.data file (in /etc/fake-hwclock/). The system
                time

                is loaded from this file at boot and saved to it on shutdown. An

                additional timer service has been added to update the file on an

                hourly basis to cater for unexpected shutdown scenarios, e.g.
                power

                failure.


                The timeinit-timestamp service has improved logging and has been

                renamed to timeinit-buildtime for clarity.


                A new time-set.target has been added as per upstream systemd and

                the fake-hwclock and timeinit-buildtime services have been added

                to it.
              footer:
                Change-type: minor
                change-type: minor
                Connects-to: '#1367 #1919'
                connects-to: '#1367 #1919'
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
            - subject: 'resin-mounts: add bind mount service for /etc/fake-hwclock'
              hash: 394aa52f77ec222e6fda856a92cd499bd464fa07
              body: >
                Add a persistent r/w location (root-overlay/etc/fake-hwclock/)
                to

                the resin-state partition for storage of the fake-hwclock.data
                file.

                This file is used by the fake-hwclock service to load the system

                time at boot and save the system time on shutdown.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Mark Corbin <mark@balena.io>
                signed-off-by: Mark Corbin <mark@balena.io>
              author: Mark Corbin
              nested: []
          version: meta-balena-2.60.0
          date: 2020-10-29T14:25:50.275Z
        - commits:
            - subject: Add host extensions support
              hash: 1d33429f0bc925bc97b4b7820aeb812eac9098d2
              body: >
                Add a new section that described the host extensions
                functionality.


                Fixes #1984
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Add host extensions support
                changelog-entry: Add host extensions support
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'packagegroup-resin: Add hostapp extensions update script'
              hash: a03e5c9eed5105c5af85c79df29546ec641d873c
              body: >
                This commit adds the update-hostapp-extensions utility. It can
                be run

                with:

                 systemd-run update-hostapp-extensions -r
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'hostapp-extensions-update: Add host extensions update script'
              hash: 0fe293eb118913e667b52b2f6df032227719efc8
              body: >
                This script triggers an installation or update of the hostapp
                extensions

                in the system.


                The list of hostapp extensions to install can either be passed
                to the

                script or it will use the ones set in config.json or
                hostapp-extensions.conf

                in that order.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'resin-vars: Parse the HOSTEXT_IMAGES variable from config.json'
              hash: 761f517f955f829e12b2c7f0a0f88830ded39e13
              body: >
                This variable allows the hostapp extensions updater script to
                update the

                hostapp extensions in the system.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'docker-disk: Add the host extension images to the data partition'
              hash: cd44a94cf1646828832070417a2deb9236b0f5ee
              body: >
                Host extension images contain extra content that is overlayed
                over the

                root filesystem at boot.


                This commits adds the default host extensions to the data
                partition

                image, stores their repository tags in the /etc directory, and
                creates

                the containers so that mobynit can mount the container
                filesystems on

                boot.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'docker-disk: Generalize hostapp platform variable'
              hash: 416544bd9c7b7e9080857dc0258668f388a55aa7
              body: >
                Rename HELLO_PLATFORM to HOSTAPP_PLATFORM so it can be used with
                any

                app type.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'initrdscripts: Busybox switch_root does not support -c argument'
              hash: a62a8189825de9dbcf52dbb3116d213fc7ceb84f
              body: >
                Calling busybox switch_root in this way has always been
                complaining but

                the error log did not get to the console.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: >-
                resin-filesystem-expand: Omit fs check and resize if partition
                is mounted
              hash: d70fbd050e5a1f7c695782b99187d583103111e0
              body: >
                Now that the data partition will be mounted from the initramfs
                for host

                extensions support, this script will only run if something went
                wrong.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'initrdscripts: Expand the resin-data filesystem'
              hash: 00cad826c157ac2d5c13137fb1023f1eb7570c58
              body: >
                As the resin-data partition will be mounted in the initramfs,
                its

                filesystem needs to be expanded before that.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'initrdscripts: Add resin-data to fs UUID generation'
              hash: d2794dd2d559ca0c55a4cbab9ae5ef3c01ebdcf3
              body: >
                The resin-data partition will be mounted in the initramfs for
                the host

                extension support so the UUID generation needs to happen before
                that.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'resin-data.mount: Remove default dependencies'
              hash: dc6cfa2e90b29b0fdcfc05c1b85e2196de4f950b
              body: >
                With the data partition being mounted in the initramfs to
                support host

                extensions, the runtime systemd-udev no longer sees the
                resin-data mount

                event and this mount is blocked.


                This is resolved by not adding the default dependency on the
                block device.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'packagegroup-resin: Add independent mobynit package to image'
              hash: 08e15adb2f21c330b9c92cef527e23770a6fe521
              body: |
                The mobynit tool also needs to be in resin-image.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'balena-engine: Do not build mobynit'
              hash: 29844ed3bd936c581e20b72df133a2b6ed498512
              body: |
                The mobynit package has now been moved to an independent recipe.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'mobynit: Fix source directory'
              hash: e6dc1b20c45ffdbcc33f82b2ef78f46715317b06
              body: |
                The Go class in mobynit predates Go modules support.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'mobynit: Separate recipe from balena-engine'
              hash: 6be3f1153d56c1c0c21e6d84db7be70be96bcd10
              body: >
                This commit adds a new recipe to build mobynit independently
                from balena-engine.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.59.0
          date: 2020-10-27T12:04:22.881Z
    - subject: 'balena-jetson-wnb: rename connectivity packagegroup'
      hash: 6fba36b3f5bd30a49e771f7e724f7d6037cc709e
      body: |
        Rename the resin-connectivity packagegroup.
      footer:
        Change-type: patch
        change-type: patch
        Changelog-entry: 'balena-jetson-wnb: rename connectivity packagegroup'
        changelog-entry: 'balena-jetson-wnb: rename connectivity packagegroup'
        Signed-off-by: Mark Corbin <mark@balena.io>
        signed-off-by: Mark Corbin <mark@balena.io>
      author: Mark Corbin
      nested: []
  version: 2.79.7+rev1
  date: 2021-06-02T09:44:48.219Z
- commits:
    - subject: 'u-boot: Fix board - dtb name pair'
      hash: 52c6675e51261e064098707531c7ac91c78ccaee
      body: ''
      footer:
        Changelog-entry: 'u-boot: Fix board - dtb name pair'
        changelog-entry: 'u-boot: Fix board - dtb name pair'
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.58.6+rev2
  date: 2020-10-30T12:57:39.595Z
- commits:
    - subject: 'u-boot: Enhance rollback, load Apollo TX2 dtb from rootfs'
      hash: 89c76e543bffc72c0cd39fdca09762611ae0d1b6
      body: |
        Load dtb from rootfs instead of using the one from
        the raw partition.
      footer:
        Changelog-entry: 'u-boot: Enhance rollback, load Apollo TX2 dtb from rootfs'
        changelog-entry: 'u-boot: Enhance rollback, load Apollo TX2 dtb from rootfs'
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
    - subject: Update meta-balena from v2.53.9 to v2.58.6
      hash: b940900d8d9330cf190ea59f8d0fe55f650ee3ab
      body: |
        Update meta-balena from 2.53.9 to 2.58.6
      footer:
        Changelog-entry: Update meta-balena from v2.53.9 to v2.58.6
        changelog-entry: Update meta-balena from v2.53.9 to v2.58.6
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: 'readme: DCHP -> DHCP'
              hash: 9694909d8eb0dea7f775eeb5a92546f00b381909
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.58.6
          date: 2020-10-15T13:43:08.320Z
        - commits:
            - subject: 'bootfiles: blacklist proper grub configuration backend'
              hash: 1362d9916b0b7b414b9d920296021379e34f00be
              body: ''
              footer:
                Connects-to: '#2022'
                connects-to: '#2022'
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.58.5
          date: 2020-10-13T14:20:39.972Z
        - commits:
            - subject: 'docker-disk: Allow expanding data filesystem on 2TB disks'
              hash: 62b3763b44dcd9397f964d0812b7292885b04f66
              body: |
                Switch to 4k block size for the resin-data filesystem
                so it can be expanded to sizes greater than 1023GiB.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.58.4
          date: 2020-10-05T12:38:50.221Z
        - commits:
            - subject: Blacklist supervisor configuration backend files during HUP
              hash: 43a14fef9875f0d0afc23a833cc8e9dc4ae80536
              body: >
                The hostapp update process should not overwrite the supervisor
                configuration

                backend files to avoid the supervisor being forced to set the
                target state

                after HUP and reboot the device during the rollback period.


                This only applies to the host configuration files which are the
                only ones

                that force a reboot.
              footer:
                Connects-to: 'https://github.com/balena-io/balena-supervisor/issues/1464'
                connects-to: 'https://github.com/balena-io/balena-supervisor/issues/1464'
                Change-type: patch
                change-type: patch
                Changelog-entry: Blacklist supervisor configuration backend files during HUP
                changelog-entry: Blacklist supervisor configuration backend files during HUP
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.58.3
          date: 2020-09-18T10:34:55.646Z
        - commits:
            - subject: 'hooks: fix up improperly named variable'
              hash: 2b42bc65dfc32817015d532c0a05d28670956bb7
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.58.2
          date: 2020-09-17T22:33:04.792Z
        - commits:
            - subject: Wait for the root device to come up when necessary
              hash: 494eeb4a699b4dd5e48547d6e5e45cffb7bf0720
              body: >
                If the rootfs is on a slow-to-bring-up device (e.g. RPi4 + USB)

                the fsuuidsinit_enabled() function may return before the balena
                symlinks

                are created. This gets wrongly interpreted as missing UUIDs
                leading to

                a chain of failures in the subsequent scripts.

                This patch moves the symlink waiting loop from fsuuidsinit_run()

                to fsuuids_enabled() before the first usage of the symlink.
              footer:
                Changelog-Entry: Wait for the root device to come up when necessary
                changelog-entry: Wait for the root device to come up when necessary
                Change-Type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.58.1
          date: 2020-09-15T18:24:58.280Z
        - commits:
            - subject: Respect balenaRootCA system-wide
              hash: 2218cb21d1fc813ac59c08b77046c5d014ad9a42
              body: >
                We allow the user to specify a custom CA in the .balenaRootCA
                key

                of config.json but at this moment each tool has to implement
                support

                if it wants to use it. This commit adds it to the system-wide CA
                bundle

                so that the CA is respected everywhere.


                Fixes #1398
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.58.0
          date: 2020-09-05T06:47:40.132Z
        - commits:
            - subject: 'os-helpers-logging: Log to stderr rather than stdout'
              hash: 94c60a30c6147838f4a91449f3960025625ce709
              body: |
                This is where the logs and error messages should go by default
                as they are not part of the tool's output.
              footer:
                Change-Type: patch
                change-type: patch
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
          version: meta-balena-2.57.1
          date: 2020-09-04T17:13:50.058Z
        - commits:
            - subject: >-
                Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to
                1.14.2
              hash: 1c80d6cc69d687fab6f2385efca5d6564c28370d
              body: |
                Update libmbim from 1.22.0 to 1.24.2
                Update libqmi from 1.24.10 to 1.26.0
                Update modemmanager from 1.12.8 to 1.14.2
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: >-
                  Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to
                  1.14.2
                changelog-entry: >-
                  Update libmbim to 1.24.2, libqmi to 1.26.0, modemmanager to
                  1.14.2
                Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
                signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
              author: Vicentiu Galanopulo
              nested: []
          version: meta-balena-2.57.0
          date: 2020-09-04T13:54:00.370Z
        - commits:
            - subject: Update balena-supervisor from v11.13.0 to v11.14.0
              hash: afdfc4ec7d46f74bc2b104a6d899a6587b3596cc
              body: |
                Update balena-supervisor from v11.13.0 to v11.14.0
              footer:
                Changelog-entry: Update balena-supervisor from v11.13.0 to v11.14.0
                changelog-entry: Update balena-supervisor from v11.13.0 to v11.14.0
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Add device system information to state endpoint patch
                      hash: f305a333ba70e90d098decdf81c220bfcbeec899
                      body: ''
                      footer:
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.14.0
                  date: 2020-09-03T13:43:00.299Z
          version: meta-balena-2.56.0
          date: 2020-09-03T14:43:29.913Z
        - commits:
            - subject: Update balena-supervisor from v11.12.4 to v11.13.0
              hash: e8fb036f3ce51f29dbda1d969bb41e505a22f389
              body: |
                Update balena-supervisor from v11.12.4 to v11.13.0
              footer:
                Changelog-entry: Update balena-supervisor from v11.12.4 to v11.13.0
                changelog-entry: Update balena-supervisor from v11.12.4 to v11.13.0
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: added support for configuring ODMDATA
                      hash: 662826d3495f551a5451395d0eb6660bfb65b599
                      body: ''
                      footer:
                        Closes: '1206'
                        closes: '1206'
                        Change-type: minor
                        change-type: minor
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.13.0
                  date: 2020-08-29T13:07:31.541Z
                - commits:
                    - subject: 'bug: Resolve mDNS API URLs'
                      hash: f0c2a3cba7a6879a506d9151c7c0d9ea89544dae
                      body: |
                        Due to switching to Alpine the ability to resolve mDNS
                        hostnames was lost. This patch overrides the lookup and
                        manually resolves the names.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.12.11
                  date: 2020-08-27T10:36:31.040Z
                - commits:
                    - subject: >-
                        Preventing removing all configurations if device has no
                        backends
                      hash: 7ea49bf4fb317346badf141e6eea8910e599c837
                      body: ''
                      footer:
                        Closes: '#1437'
                        closes: '#1437'
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.12.10
                  date: 2020-08-24T17:43:41.125Z
                - commits:
                    - subject: Don't enforce the vc4-fkms-v3d dtoverlay on rpi4
                      hash: de4c1b25385630b6f9fadb7a362d5556c2cc5008
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Closes: '#1404'
                        closes: '#1404'
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.12.9
                  date: 2020-08-20T09:24:11.110Z
                - commits:
                    - subject: Update dependencies
                      hash: ea34a2d10a3acd19cfefe4c847eb96579315429a
                      body: |
                        Update docker-delta from 2.2.9 to 2.2.11
                        Update docker-progress from 3.0.5 to 4.0.3
                        Update docker-toolbelt from 3.3.8 to 3.3.10
                        Update livepush from 3.3.0 to 3.5.1
                        Update resin-docker-build from 1.1.4 to 1.1.6
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: >-
                                Add .versionbot/CHANGELOG.yml for nested
                                changelogs
                              hash: b0f552f9a21d350cb9fdca77d4f7c309f88bf68b
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: node-docker-delta-2.2.11
                          date: 2020-08-19T11:52:46.348Z
                        - commits:
                            - author: Pagan Gazzard
                              body: ''
                              footers:
                                change-type: patch
                              hash: 70b5359fedc100907c0086f7d25b7ad19cc210ad
                              subject: Removed unused dependencies
                            - author: Pagan Gazzard
                              body: ''
                              hash: 8670e850ba5d97fbaecc938fc2060ea3b4f157ed
                              subject: 'circleci: update docker'
                          date: '2020-08-05T15:20:21Z'
                          version: node-docker-delta-2.2.10
                        - commits:
                            - subject: Update to balena-lint 5.x
                              hash: 9563bf5150c39c6d6f298a9ed24f7969650273f7
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: docker-progress-4.0.3
                          date: 2020-08-17T12:03:45.249Z
                        - commits:
                            - subject: >-
                                Add .versionbot/CHANGELOG.yml for nested
                                changelogs
                              hash: 2cec0f2ef1eb24797b650024873c91c942e74017
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: docker-progress-4.0.2
                          date: 2020-08-17T11:47:14.543Z
                        - commits:
                            - author: Pagan Gazzard
                              body: ''
                              footers:
                                change-type: patch
                              hash: 9bb049ea3be13fb1362e39b057f78b19d8e3153d
                              subject: Update dependencies
                          date: '2020-03-04T14:17:04Z'
                          version: docker-progress-4.0.1
                        - commits:
                            - author: Paulo Castro
                              body: >-
                                The change type is considered 'major' because,
                                by default, errors are

                                now thrown for relatively common occurrences
                                such as authentication

                                failures when pulling from private registries,
                                and library users may

                                have to adapt.
                              footers:
                                change-type: major
                                signed-off-by: Paulo Castro <paulo@balena.io>
                              hash: 3eef3685262e6bae8de064b9c50129e5597f4318
                              subject: >-
                                Detect error events in push/pull progress
                                streams
                          date: '2019-03-26T16:03:31Z'
                          version: docker-progress-4.0.0
                        - commits:
                            - subject: >-
                                Add .versionbot/CHANGELOG.yml for nested
                                changelogs
                              hash: ccd1e99c5501257f1304f4cb68dd02383411e0b8
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: docker-toolbelt-3.3.10
                          date: 2020-08-19T12:10:49.102Z
                        - commits:
                            - author: Pagan Gazzard
                              body: ''
                              footers:
                                change-type: patch
                              hash: e89aedf563c4158894265c885cb86a834b5c9c7f
                              subject: Update to balena-lint 5.x
                          date: '2020-08-17T12:49:42Z'
                          version: docker-toolbelt-3.3.9
                        - commits:
                            - subject: >-
                                Add .versionbot/CHANGELOG.yml for nested
                                changelogs
                              hash: 580a4229374fc96fc3f7aeb80e6b5a09aa958d7f
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: livepush-3.5.1
                          date: 2020-08-19T12:27:19.448Z
                        - commits:
                            - author: Roman Mazur
                              body: ''
                              footers:
                                change-type: minor
                                signed-off-by: Roman Mazur <roman@balena.io>
                              hash: c180b489f3a537468f3347398824ca285354caaa
                              subject: Allow setting ENV variables in the live image
                            - author: Roman Mazur
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Roman Mazur <roman@balena.io>
                              hash: 7a053dd801ee5bdc8e5b0792044be611d8981a58
                              subject: Bump dockerode types dependency
                          date: '2020-07-13T11:46:04Z'
                          version: livepush-3.5.0
                        - commits:
                            - author: Cameron Diver
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Cameron Diver <cameron@balena.io>
                              hash: 68ebf4a50acb2b451770f79a44e256dc14adbde0
                              subject: >-
                                Update README with information about live
                                directives
                          date: '2020-05-05T10:39:11Z'
                          version: livepush-3.4.1
                        - commits:
                            - author: Cameron Diver
                              body: ''
                              footers:
                                change-type: minor
                                closes: '#76'
                                signed-off-by: Cameron Diver <cameron@balena.io>
                              hash: f4caa2052af2a820f8bf86d202b21b2fe6680af9
                              subject: "\U0001F52D Add a file watcher which can be used by library users"
                          date: '2020-04-15T10:50:17Z'
                          version: livepush-3.4.0
                        - commits:
                            - subject: >-
                                Add .versionbot/CHANGELOG.yml for nested
                                changelogs
                              hash: 139561ad61ca4f0e2a6203fe3c5f3345ba32cf83
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: resin-docker-build-1.1.6
                          date: 2020-08-19T12:14:05.986Z
                        - commits:
                            - author: CameronDiver
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Cameron Diver <cameron@balena.io>
                              hash: 0e84ec3d48268c0ae1a2390a2dad2cf8ec9e0eec
                              subject: Update README with correct instantiation method
                          date: '2020-04-02T16:54:05Z'
                          version: resin-docker-build-1.1.5
                  version: balena-supervisor-11.12.8
                  date: 2020-08-19T12:38:52.114Z
                - commits:
                    - subject: Update typed-error to 3.x
                      hash: 379730a9e1d6530ea8bc13715a46fe895b0d4ec8
                      body: |
                        Update typed-error from 2.0.0 to 3.2.1
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Update dependencies
                              hash: dc41949015399154efb4529183daa0dfc9269b52
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: typed-error-3.2.1
                          date: 2020-08-05T12:34:06.377Z
                        - commits:
                            - subject: >-
                                update deps and specify minimum engine
                                requirements
                              hash: 22f293afc187e67b88dab280951eb6e2bb504b24
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                          version: typed-error-3.2.0
                          date: 2019-11-20T09:52:39.017Z
                        - commits:
                            - subject: 'dev: Enforce prettier coding standards'
                              hash: 47c07a641fa39ddb833b41aff7a918accad08289
                              body: ''
                              footer:
                                Change-type: minor
                                change-type: minor
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                            - subject: >-
                                npm: Update dependencies and remove
                                `package-lock.json`
                              hash: 067bceb5c8dfd46f7e4ff0f58dead46fd9626167
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                            - subject: >-
                                codeowners: Add top contributors @wrboyce,
                                @Page-, and @dfunckt
                              hash: 6acc8757a594f74f264c8d68ea4501c61bda9951
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                            - subject: >-
                                versionbot: Add CHANGELOG.yml (for nested
                                changelogs)
                              hash: 2b684a0bb0c95a5dbd3b130ba0f184d3464d298f
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                                Signed-off-by: Will Boyce <will@balena.io>
                                signed-off-by: Will Boyce <will@balena.io>
                              author: Will Boyce
                          version: typed-error-3.1.0
                          date: 2019-04-01T10:20:01.427Z
                        - commits:
                            - author: CameronDiver
                              body: ''
                              footers:
                                change-type: patch
                                signed-off-by: Cameron Diver <cameron@balena.io>
                              hash: aaa9391dc463c1037f85e845d30f6f9434bb4dc1
                              subject: Update README with new import style
                          date: '2018-11-01T12:08:25Z'
                          version: typed-error-3.0.2
                        - commits:
                            - author: Pagan Gazzard
                              body: ''
                              footers:
                                change-type: patch
                              hash: 627cdd281d7b086df8fe5ed1ccb0e0e0df3df062
                              subject: Update to typescript 3
                            - author: Pagan Gazzard
                              body: ''
                              footers:
                                change-type: patch
                              hash: 00d182bb2bc29bd82adb4e8ea4527f6bda6c5278
                              subject: Update dev dependencies
                            - author: Pagan Gazzard
                              body: ''
                              hash: 94adac5d747f16b9228b39e56007ee0126c6f99c
                              subject: Add node-10 to the circle test suite
                          date: '2018-10-29T14:05:23Z'
                          version: typed-error-3.0.1
                        - commits:
                            - author: Will Boyce
                              body: >-
                                * Switch to `export ...` syntax (from `export =
                                ...`)

                                * Fix invalid export of class inheriting
                                non-exported class
                              footers:
                                change-type: major
                              hash: a6307b8c04d3456ad7d8a6ac19035b5e718c4311
                              subject: Distribute generated typescript declaration
                            - author: Will Boyce
                              body: ''
                              footers:
                                change-type: patch
                              hash: 37c4b700baadba8cdd6bc0c40df74b30b1a6301c
                              subject: >-
                                use circle for build/publish and add
                                package-lock
                            - author: Will Boyce
                              body: ''
                              footers:
                                change-type: patch
                              hash: 83e809281f5172ca1ff71bdf0ee663cd504f1428
                              subject: add lint scripts/requirements
                            - author: Will Boyce
                              body: ''
                              footers:
                                change-type: minor
                              hash: da9431d08e501a0d4d0db3a7fb2c0bd06d76d064
                              subject: >-
                                Remove `BaseError` class and  directly subclass
                                `Error`
                            - author: Will Boyce
                              body: ''
                              footers:
                                change-type: patch
                              hash: e46a36b54498b68f513c6cb947e217c11525e160
                              subject: 'Update dependencies, clean up package/tsconfig'
                          date: '2018-04-17T08:19:27Z'
                          version: typed-error-3.0.0
                        - commits:
                            - author: Akis Kesoglou
                              body: ''
                              footers:
                                change-type: patch
                              hash: d35c44f1e57f6386c6f769f8cafc28e0886719cc
                              subject: Add LICENSE
                          date: '2017-12-15T17:19:00Z'
                          version: typed-error-2.0.1
                  version: balena-supervisor-11.12.7
                  date: 2020-08-19T09:09:56.021Z
                - commits:
                    - subject: Update pinejs-client-request to 7.2.1
                      hash: 90fab43022c91bce7cea5ce6cd3b4440a6f707a0
                      body: |
                        Update pinejs-client-request from 7.1.0 to 7.2.1
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Update dependencies
                              hash: f4502c9364bb5dd3ac4cb7242b8d08dca047b8ee
                              body: |
                                Update pinejs-client-core from 6.6.1 to 6.7.1
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Fix prepare $count typings
                                      hash: fe63b2ba648b0ef545afe9fd18d433faca4af6a2
                                      body: ''
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.7.1
                                  date: 2020-08-12T14:30:20.061Z
                                - commits:
                                    - subject: >-
                                        Improve typings for
                                        request/post/put/patch/delete
                                      hash: 32c0d5b40c14e44155391099a9051255c38b1c05
                                      body: ''
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.7.0
                                  date: 2020-08-12T13:42:49.438Z
                          version: pinejs-client-request-7.2.1
                          date: 2020-08-18T17:01:01.637Z
                        - commits:
                            - subject: Update pinejs-client-core to 6.6.1
                              hash: 8b45f326d07939279b5c4271c74579cdf5da3bb3
                              body: |
                                Update pinejs-client-core from 6.1.0 to 6.6.1
                                Update typed-error from 3.2.0 to 3.2.1
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Update dependencies
                                      hash: dc41949015399154efb4529183daa0dfc9269b52
                                      body: ''
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: typed-error-3.2.1
                                  date: 2020-08-05T12:34:06.377Z
                                - commits:
                                    - subject: >-
                                        Fix typing when id is specified to be
                                        `AnyObject | undefined`
                                      hash: c4802cb748b1552345f036120c3aa6254e6cc946
                                      body: ''
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.6.1
                                  date: 2020-08-11T17:10:09.498Z
                                - commits:
                                    - subject: >-
                                        Deprecate `$expand: { 'a/$count': {...}
                                        }`
                                      hash: 8be33ad064905476e3f21978b7e1d760f5e27f4e
                                      body: ''
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                    - subject: >-
                                        Deprecate `resource: 'a/$count'` and
                                        update typings to reflect it
                                      hash: 779cc424cb6d2562aa9a98a3ff083b68308d9797
                                      body: ''
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.6.0
                                  date: 2020-08-11T16:18:59.088Z
                                - commits:
                                    - subject: >-
                                        Add `options: { $count: { ... } }` sugar
                                        for top level $count
                                      hash: 13072f715da6c0ca3eab08584eaa48f39ea985b2
                                      body: ''
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                    - subject: >-
                                        Add `$expand: { a: { $count: { ... } }
                                        }` sugar for $count in expands
                                      hash: b2afb397c09a31c9ab3c1c370846c1b8762db32d
                                      body: ''
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.5.0
                                  date: 2020-08-11T10:25:19.860Z
                                - commits:
                                    - subject: >-
                                        Improve return typing of `subscribe`
                                        method
                                      hash: 2311fe03b04f4e6149693a9e5c392f9f0bb2a549
                                      body: ''
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.4.0
                                  date: 2020-08-11T10:16:40.301Z
                                - commits:
                                    - subject: Fix Poll.on typings
                                      hash: 315697d9c2c0e59652bcceddb7f36cb498269f64
                                      body: ''
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                    - subject: >-
                                        Improve return typing when id is passed
                                        to GET methods
                                      hash: 2d174f758314a20c01a171ac5826b71e4f623dcc
                                      body: ''
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                    - subject: >-
                                        Remove `PromiseResult` type, use
                                        `Promise<PromiseResultTypes>` instead
                                      hash: 905f275731af6ce2560c37f41343052f05365cd1
                                      body: ''
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                    - subject: >-
                                        Remove `PromiseObj` type, use
                                        `Promise<{}>` instead
                                      hash: 78aa2410aa86bf73cc4831f2149fc85e28a6ea23
                                      body: ''
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.3.0
                                  date: 2020-08-11T08:57:09.655Z
                                - commits:
                                    - subject: >-
                                        Add `$filter: { a: { $count: 1 } }`
                                        sugar for $count in filters
                                      hash: f2fef3833f321bf81543c62a9a3db09d7fbc0a4a
                                      body: ''
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.2.0
                                  date: 2020-08-10T16:44:49.238Z
                                - commits:
                                    - subject: >-
                                        Remove redundant
                                        ParamsObj/SubscribeParamsObj types
                                      hash: f5fc6762aa8f1918424fb5e1c1a05435f07af285
                                      body: ''
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.1.2
                                  date: 2020-08-10T16:32:09.666Z
                                - commits:
                                    - subject: >-
                                        Make use of `mapObj` helper in more
                                        places
                                      hash: 2189f9918cb515071d2f6ecb941b0d838ee6c5ea
                                      body: ''
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                    - subject: >-
                                        Use `Object.keys` in preference to
                                        `hasOwnProperty` where applicable
                                      hash: 2ea0e9549974150ef9e7f82206f25000407e37ba
                                      body: ''
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.1.1
                                  date: 2020-08-10T15:42:09.364Z
                          version: pinejs-client-request-7.2.0
                          date: 2020-08-12T07:00:59.754Z
                  version: balena-supervisor-11.12.6
                  date: 2020-08-18T17:30:40.807Z
                - commits:
                    - subject: Refactor configurable backend class names
                      hash: ff404456b3c3edaf33fe2199387db47d9be03503
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.12.5
                  date: 2020-08-12T19:06:59.672Z
          version: meta-balena-2.55.0
          date: 2020-09-03T09:07:51.151Z
        - commits:
            - subject: Pack /lib/vdso/Makefile in kernel-modules-headers
              hash: 37ce34cbb4d1ddb8af5a0eafb40fc16436b6e2b8
              body: >
                For the updated 5.4 kernel on RPI4, kernel-headers-test fails
                with

                arch/arm64/kernel/vdso/Makefile lib/vdso/Makefile No such file
                or directory

                make[1] *** No rule to make target 'lib/vdso/Makefile'.  Stop.

                make *** [vdso_prepare] Error 2


                when doing modules_pepare in the docker build


                This patch adds /lib/vdso/Makefile to kernel-modules-headers

                compressed archive
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Pack /lib/vdso/Makefile in kernel-modules-headers
                changelog-entry: Pack /lib/vdso/Makefile in kernel-modules-headers
                Signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
                signed-off-by: Vicentiu Galanopulo <vicentiu@balena.io>
              author: Vicentiu Galanopulo
              nested: []
          version: meta-balena-2.54.3
          date: 2020-08-25T11:58:10.547Z
        - commits:
            - subject: 'balena-supervisor: Update to v11.12.4'
              hash: 99d9a4df967535d77f3918d696845ade57aa198e
              body: |
                Update balena-supervisor from v11.12.2 to v11.12.4
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: next
                backport-to: next
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested:
                - commits:
                    - subject: >-
                        bug: Firewall not blocking supervisor access from
                        outside the device
                      hash: 5aecd94e243ee55cffbb9aa47e7adfc437401de3
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.12.4
                  date: 2020-08-12T12:45:26.689Z
                - commits:
                    - subject: 'bug: Allow DNS through firewall for local containers'
                      hash: e9b536a889542588e2f79247ed7937c709fdf3d2
                      body: >
                        We provide a local DNS server for containers to use and
                        this

                        was not allowed through the firewall when enabled.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.12.3
                  date: 2020-08-11T14:19:40.945Z
          version: meta-balena-2.54.2
          date: 2020-08-12T17:01:50.068Z
        - commits:
            - subject: Package iwlwifi-cc-a0-48 firmware separately
              hash: 6d92504349952a0bafc13afc1631c09dadf4d257
              body: |
                We add this fw on its own package so that boards can add it to
                rootfs (for Microsoft Surface Go 2 more specifically)
              footer:
                Changelog-entry: Package iwlwifi-cc-a0-48 firmware separately
                changelog-entry: Package iwlwifi-cc-a0-48 firmware separately
                Change-type: patch
                change-type: patch
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
          version: meta-balena-2.54.1
          date: 2020-08-07T07:33:15.659Z
        - commits:
            - subject: Update balena-supervisor from v11.9.9 to v11.12.2
              hash: 9772bf13f7f1a07946138eb713d23b245ffb6dd0
              body: |
                Update balena-supervisor from v11.9.9 to v11.12.2
              footer:
                Changelog-entry: Update balena-supervisor from v11.9.9 to v11.12.2
                changelog-entry: Update balena-supervisor from v11.9.9 to v11.12.2
                Change-type: minor
                change-type: minor
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Cameron Diver
              nested:
                - commits:
                    - subject: Fix device-tag fetching function
                      hash: aa823c1cfca7a026b1c4cf3580e690625fee0d58
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.12.2
                  date: 2020-08-05T12:33:50.608Z
                - commits:
                    - subject: Update resumable-request
                      hash: abf5cac4a3d784a6ad1f545f14b15b5149f13afa
                      body: |
                        Update resumable-request from 2.0.0 to 2.0.1
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: >-
                                Add .versionbot/CHANGELOG.yml for nested
                                changelogs
                              hash: e11bf1fd3f505a83eb1c0bd872d3a90ee1ba4137
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                            - subject: Optimize lodash dependency
                              hash: 40146b216300b0b16f7004e8266d16696928ea14
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: resumable-request-2.0.1
                          date: 2020-08-05T09:48:49.433Z
                  version: balena-supervisor-11.12.1
                  date: 2020-08-05T11:28:50.822Z
                - commits:
                    - subject: Update contrato to 0.5
                      hash: 17c370863cca6bf5ddfaceffdbae96b92db24bbc
                      body: |
                        Update contrato from 0.2.1 to 0.5.0
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Remove handlebars-helpers to shrink bundle size
                              hash: 1305553f48747e0e450c89254790e67674c252b7
                              body: >
                                We can re-add specific helpers as necessary
                                without needing to bloat

                                with the entirety of the helpers package
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                              nested: []
                          version: contrato-0.5.0
                          date: 2020-08-05T08:38:30.030Z
                        - commits:
                            - subject: Update skhema to 5.x
                              hash: 1eb7058e8e34d708c03c5270e849aff4576773e7
                              body: |
                                Update skhema from 2.3.0 to 5.3.2
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Switch to typed-error
                                      hash: 234c6da3d4b2ca6784d7714a7b7d46813b43310a
                                      body: ''
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: skhema-5.3.2
                                  date: 2020-08-04T21:33:19.366Z
                                - commits:
                                    - subject: >-
                                        Add .versionbot/CHANGELOG.yml for nested
                                        changelogs
                                      hash: 7c61cf2f1e120944c3aef29dfe208f2e37139a6a
                                      body: ''
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                      author: Pagan Gazzard
                                  version: skhema-5.3.1
                                  date: 2020-08-04T21:07:49.365Z
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ''
                                      footers:
                                        change-type: minor
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 7e3fd20fb84d71c67e2f11206c4cf60b4b2866c1
                                      subject: >-
                                        filter: Throw a custom error if the
                                        schema is invalid
                                  date: '2020-05-05T15:22:49Z'
                                  version: skhema-5.3.0
                                - commits:
                                    - author: StefKors
                                      body: ''
                                      footers:
                                        change-type: patch
                                        signed-off-by: Stef Kors <stef@balena.io>
                                      hash: e90802b28b908dfcd4c54e432e72cd36ba390b09
                                      subject: >-
                                        Add test to show .filter() not working
                                        correctly
                                    - author: StefKors
                                      body: ''
                                      footers:
                                        change-type: patch
                                        signed-off-by: Stef Kors <stef@balena.io>
                                      hash: 4ff1988ca8c78192ad0f92afb7f2bb3d2679fdd2
                                      subject: >-
                                        When combining with baseSchema merge
                                        enum with AND operator
                                  date: '2019-12-12T11:38:32Z'
                                  version: skhema-5.2.9
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ''
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 2f8725cde8fc23de39346860a4fc283ada408eab
                                      subject: Ensure values in "enum" are unique
                                  date: '2019-11-27T20:30:03Z'
                                  version: skhema-5.2.8
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ''
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 5afd0f25d791fe1f0d85957369a46292212de79e
                                      subject: >-
                                        filter: Correctly handle "enum" inside
                                        "anyOf"
                                  date: '2019-11-27T19:34:08Z'
                                  version: skhema-5.2.7
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ''
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 0bb8c525b58dc358b80ddd7a2ed53dc95fe662ae
                                      subject: >-
                                        merge: Be explicit about
                                        additionalProperties
                                  date: '2019-11-19T09:19:11Z'
                                  version: skhema-5.2.6
                                - commits:
                                    - author: Lucian
                                      body: ''
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 864db6644a2cddfada888c3cb979498b2107eabe
                                      subject: Add a resolver for the const keyword
                                  date: '2019-05-09T15:49:10Z'
                                  version: skhema-5.2.5
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: >-
                                        This is very similar to the cache class
                                        they use by default, with the

                                        difference that it has a limit and won't
                                        grow indefinitely, causing

                                        memory leaks on long running
                                        applications like Jellyfish.
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 8dcdde578bdae9dad5786270b451bd45a7204115
                                      subject: >-
                                        Configure AJV instances with an LRU
                                        cache
                                  date: '2019-04-15T15:32:41Z'
                                  version: skhema-5.2.4
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: >-
                                        So we don't leak `SchemaObject` in the
                                        AJV `_refs` object.
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: f55993458fe587fa2884f116506bd27cb2aa3e87
                                      subject: >-
                                        Set addUsedSchema to false in all AJV
                                        instances
                                  date: '2019-04-15T15:15:23Z'
                                  version: skhema-5.2.3
                                - commits:
                                    - author: Lucian
                                      body: 'Fixes #43'
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 90dd1490303d06c0e44be715464ddc4f598f4adb
                                      subject: >-
                                        Fix bug in scoreMatch when handling
                                        arrays
                                  date: '2019-03-20T10:24:26Z'
                                  version: skhema-5.2.2
                                - commits:
                                    - author: Lucian
                                      body: ''
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 846dc2265f73018870d88c704630578e6715afa8
                                      subject: Fix bad require name and .only in tests
                                  date: '2019-03-19T15:47:17Z'
                                  version: skhema-5.2.1
                                - commits:
                                    - author: Lucian Buzzo
                                      body: >-
                                        Only match elements with .filter() if
                                        the base schema (the schema with no

                                        anyOf branches) matches the element.
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 9652d825d07fd8de0b51a5ae2645f3f6f79ee860
                                      subject: >-
                                        .filter(): Only match if the base schema
                                        matches
                                  date: '2020-04-30T16:22:18Z'
                                  version: skhema-5.2.10
                                - commits:
                                    - author: Lucian
                                      body: ''
                                      footers:
                                        change-type: minor
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 647943a9d7fad1338ad800509a85636b150d576e
                                      subject: >-
                                        Add ability to provide custom resolvers
                                        to merge()
                                  date: '2019-03-19T12:14:12Z'
                                  version: skhema-5.2.0
                                - commits:
                                    - author: Lucian
                                      body: ''
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: c00be29c12b14858982cd2997088d065ff173870
                                      subject: >-
                                        Split up and optimize lodash
                                        dependencies
                                  date: '2019-02-08T11:58:56Z'
                                  version: skhema-5.1.1
                                - commits:
                                    - author: Lucian Buzzo
                                      body: ''
                                      footers:
                                        change-type: minor
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 5c48f980bfad6eb0a15d6c18d0898fbe226ddddd
                                      subject: >-
                                        feature: Implement method for
                                        restricting a schema by another schema
                                  date: '2019-01-08T11:00:52Z'
                                  version: skhema-5.1.0
                                - commits:
                                    - author: Lucian
                                      body: >-
                                        Using a strictly defined API allows us
                                        to improve performance
                                      footers:
                                        change-type: major
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 04f497a509e4129977e696a6637fe2724a7fb7e0
                                      subject: >-
                                        Remove ability to add custom keywords or
                                        formats
                                  date: '2018-12-31T07:38:57Z'
                                  version: skhema-5.0.0
                                - commits:
                                    - author: Lucian
                                      body: ''
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 219f90ed5751e2211d9acb0bbd3311c39e12a180
                                      subject: Improve performance of clone operations
                                  date: '2018-12-31T07:20:46Z'
                                  version: skhema-4.0.4
                                - commits:
                                    - author: Lucian
                                      body: ''
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 61318967874690eb3b85a9921fe27d3ce5c2494d
                                      subject: Don't bust AJV cache
                                  date: '2018-12-10T12:09:43Z'
                                  version: skhema-4.0.3
                                - commits:
                                    - author: Giovanni Garufi
                                      body: ''
                                      footers:
                                        change-type: patch
                                        signed-off-by: Giovanni Garufi <giovanni@balena.io>
                                      hash: 1f6c87de94ef905ea39972630364c74beb55057a
                                      subject: Add benchmark tests
                                  date: '2018-12-10T11:47:01Z'
                                  version: skhema-4.0.2
                                - commits:
                                    - author: Lucian
                                      body: 'Fixes #30'
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: d59a81567bf84a90182687a5385538ff7a599ce0
                                      subject: >-
                                        Recurse through nested `anyOf`
                                        statements when filtering
                                  date: '2018-12-04T13:29:31Z'
                                  version: skhema-4.0.1
                                - commits:
                                    - author: Lucian
                                      body: >-
                                        This better follows the way that JSON
                                        schema works
                                      footers:
                                        change-type: major
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 7c479564ca6c611c1576c32b63ac9dba06c8b2c7
                                      subject: >-
                                        Treat undefined additionalProperties as
                                        true instead of false
                                  date: '2018-12-03T13:40:59Z'
                                  version: skhema-4.0.0
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ''
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 842aaf252085b9a80a1cd84776b0c871c8c949aa
                                      subject: 'stryker: Increase test timeout'
                                    - author: Juan Cruz Viotti
                                      body: ''
                                      footers:
                                        change-type: patch
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 781b74d9ca847acfbfa3883fda66f4828824e3bc
                                      subject: >-
                                        test: Configure Stryker for mutative
                                        testing
                                  date: '2018-11-30T16:58:05Z'
                                  version: skhema-3.0.1
                                - commits:
                                    - author: Giovanni Garufi
                                      body: >-
                                        Merge multiple anyOf subschemas that
                                        match into a single one.

                                        Add axioms in test
                                      footers:
                                        change-type: minor
                                        signed-off-by: Giovanni Garufi <giovanni@balena.io>
                                      hash: 23cec34382d98b6c10a1d5483113a1155ba6565a
                                      subject: >-
                                        Define additionalProperty inheritance in
                                        anyOf
                                    - author: Lucian
                                      body: ''
                                      footers:
                                        change-type: major
                                        signed-off-by: Lucian <lucian.buzzo@gmail.com>
                                      hash: 93a65b6edb10397b3417a3719d4471cd0eeb4f68
                                      subject: Formalising filtering logic
                                    - author: Lucian
                                      body: ''
                                      hash: d55a7cac6bd9ce238918eea99ed64894e5e7d066
                                      subject: Added failing test case with mutation
                                  date: '2018-11-29T17:53:28Z'
                                  version: skhema-3.0.0
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: >-
                                        This is a hack, and should be reverted
                                        once we get to the bottom of it.

                                        It will impact performance, but right
                                        now there are things that should

                                        be filtered and are not, so lets get
                                        this merged for security purposes.

                                        Hopefully this library will be
                                        re-written soon.
                                      footers:
                                        change-type: patch
                                        see: >-
                                          https://github.com/balena-io/jellyfish/pull/878
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: fd9841b296007e1ddc04d092c3b28c61a438be6c
                                      subject: >-
                                        hotfix: Make sure things that should be
                                        filtered are filtered
                                  date: '2018-11-07T13:42:47Z'
                                  version: skhema-2.5.2
                                - commits:
                                    - author: Juan Cruz Viotti
                                      body: ''
                                      footers:
                                        change-type: patch
                                        see: >-
                                          https://github.com/balena-io/jellyfish/issues/845
                                        signed-off-by: Juan Cruz Viotti <juan@balena.io>
                                      hash: 3ef59f5e552a11dffa72c6ff758210aebfe35bcb
                                      subject: >-
                                        filter: Force additionalProperties: true
                                        on match schemas
                                  date: '2018-11-06T17:26:53Z'
                                  version: skhema-2.5.1
                                - commits:
                                    - author: Lucian Buzzo
                                      body: ''
                                      footers:
                                        change-type: minor
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 3536e75a128f7b79d13727d3a5562df48e6f9d00
                                      subject: >-
                                        Validate against just the schema if
                                        `options.schemaOnly` is true
                                  date: '2018-10-16T11:59:41Z'
                                  version: skhema-2.5.0
                                - commits:
                                    - author: Lucian Buzzo
                                      body: ''
                                      footers:
                                        change-type: patch
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 513eeb6d006270ac25a2fb9a802df9c398658548
                                      subject: >-
                                        merge: When merging an empty array,
                                        return a wildcard schema
                                  date: '2018-10-09T20:19:28Z'
                                  version: skhema-2.4.1
                                - commits:
                                    - author: Lucian Buzzo
                                      body: ''
                                      footers:
                                        change-type: minor
                                        signed-off-by: Lucian Buzzo <lucian.buzzo@gmail.com>
                                      hash: 5a3844a72a7bb0bad355d6a991a9a2f005c3a3b9
                                      subject: 'validate: Make object optional'
                                  date: '2018-10-09T16:52:53Z'
                                  version: skhema-2.4.0
                          version: contrato-0.4.0
                          date: 2020-08-04T21:58:55.782Z
                        - commits:
                            - subject: >-
                                Add .versionbot/CHANGELOG.yml for nested
                                changelogs
                              hash: 783273aac70fd631d5a80e33b55ef468be4c3ec7
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                          version: contrato-0.3.1
                          date: 2020-08-04T21:46:25.163Z
                        - commits:
                            - author: Stevche Radevski
                              body: >-
                                Handlebars supports very basic if condition
                                checking, but it only checks for

                                existence of a field. There are times when we
                                want to combine conditions in order

                                to generate something as part of a blueprint,
                                without defining a completely separate

                                blueprint for it (like generating network config
                                schema if a dt has a wifi chip or

                                a usb port to which we can connect a dongle).
                              footers:
                                change-type: minor
                                signed-off-by: Stevche Radevski <stevche@balena.io>
                              hash: 90c3356b356920b8a6dd95a478dd6cb39e6ad148
                              subject: Add logical operator support in templates
                          date: '2020-07-17T12:02:34Z'
                          version: contrato-0.3.0
                  version: balena-supervisor-11.12.0
                  date: 2020-08-05T09:55:18.695Z
                - commits:
                    - subject: Bump elliptic from 6.5.2 to 6.5.3
                      hash: c11004cd24fe66e6af7f16a79c0cc9e8847eb415
                      body: >
                        Bumps [elliptic](https://github.com/indutny/elliptic)
                        from 6.5.2 to 6.5.3.

                        - [Release
                        notes](https://github.com/indutny/elliptic/releases)

                        -
                        [Commits](https://github.com/indutny/elliptic/compare/v6.5.2...v6.5.3)
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: 'dependabot[bot] <support@github.com>'
                        signed-off-by: 'dependabot[bot] <support@github.com>'
                      author: 'dependabot[bot]'
                      nested: []
                    - subject: Update pinejs-client-request and make use of a named key
                      hash: 511cbbe74e9dce51490234c66035ded873091b4e
                      body: |
                        Update pinejs-client-request from 7.0.0 to 7.1.0
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested:
                        - commits:
                            - subject: Update dependencies
                              hash: c46281f165eb6b05def4bd9eed82df37629c56e7
                              body: |
                                Update pinejs-client-core from 6.0.0 to 6.1.0
                              footer:
                                Change-type: minor
                                change-type: minor
                              author: Pagan Gazzard
                              nested:
                                - commits:
                                    - subject: Add support for using named ids
                                      hash: f6035bf5240e8aea1b92997d976cebd9a1857a61
                                      body: ''
                                      footer:
                                        Change-type: minor
                                        change-type: minor
                                      author: Pagan Gazzard
                                  version: pinejs-client-js-6.1.0
                                  date: 2020-07-21T10:31:09.457Z
                                - commits:
                                    - subject: Drop unnecessary async from request()
                                      hash: dfd4c8c39327fe2e1706a8180e3c3f56d4229b77
                                      body: >
                                        This allows consumers like
                                        pinejs-client-supertest

                                        to have all the methods returning
                                        different Promise

                                        types based solely on the implementation
                                        of the

                                        request() method.
                                      footer:
                                        Change-type: patch
                                        change-type: patch
                                        Signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                        signed-off-by: Thodoris Greasidis <thodoris@balena.io>
                                      author: Thodoris Greasidis
                                  version: pinejs-client-js-6.0.1
                                  date: 2020-06-19T16:55:46.305Z
                          version: pinejs-client-request-7.1.0
                          date: 2020-07-28T10:43:21.213Z
                        - commits:
                            - subject: Increase default timeout to 59s
                              hash: fc17266fe147bf40086feb81b6c96a344bf74f29
                              body: ''
                              footer:
                                Change-type: patch
                                change-type: patch
                              author: Pagan Gazzard
                              nested: []
                          version: pinejs-client-request-7.0.1
                          date: 2020-07-28T10:29:41.385Z
                  version: balena-supervisor-11.11.7
                  date: 2020-08-04T09:33:41.743Z
                - commits:
                    - subject: >-
                        Fixes documentation - ping doesn't need apiKey and minor
                        documentation formatting changes.
                      hash: 82dda7d852773a58ddbdc4a614ef3a3b7ff15462
                      body: ''
                      footer:
                        Change-Type: patch
                        change-type: patch
                        Signed-off-by: >-
                          Nitish Agarwal
                          <1592163+nitishagar@users.noreply.github.com>
                        signed-off-by: >-
                          Nitish Agarwal
                          <1592163+nitishagar@users.noreply.github.com>
                        Co-authored-by: xginn8 <xginn8@users.noreply.github.com>
                        co-authored-by: xginn8 <xginn8@users.noreply.github.com>
                      author: Nitish Agarwal
                      nested: []
                  version: balena-supervisor-11.11.6
                  date: 2020-07-31T18:10:27.470Z
                - commits:
                    - subject: >-
                        Fixes #1299 v1 start/stop endpoint issue with service
                        access.
                      hash: 11cac2dd696dc267758351be131c3db8eae4470e
                      body: ''
                      footer:
                        Change-Type: patch
                        change-type: patch
                        Signed-off-by: >-
                          Nitish Agarwal
                          <1592163+nitishagar@users.noreply.github.com>
                        signed-off-by: >-
                          Nitish Agarwal
                          <1592163+nitishagar@users.noreply.github.com>
                      author: Nitish Agarwal
                      nested: []
                  version: balena-supervisor-11.11.5
                  date: 2020-07-31T17:42:23.827Z
                - commits:
                    - subject: 'bug: Fix undefined containerId object'
                      hash: 59561132cc11074d2acf4ac06b477196b42cf569
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.11.4
                  date: 2020-07-31T10:53:18.364Z
                - commits:
                    - subject: fix matching extra_uEnv backend with unsupported devices
                      hash: 9b37ce96f959ccf27963ebb1c3e9eccd2ed998c7
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.11.3
                  date: 2020-07-30T18:15:41.698Z
                - commits:
                    - subject: >-
                        Fix an issue with reporting initial config using a stale
                        target state
                      hash: ffe3da6261e486b875c5c1792b7bdc8e0a0f996e
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                      author: Pagan Gazzard
                      nested: []
                  version: balena-supervisor-11.11.2
                  date: 2020-07-30T09:50:26.292Z
                - commits:
                    - subject: fix up "atleast" -> "at least"
                      hash: 15c57a86b47c4df3dbf5e20c5dbbbd40a6344812
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Matthew McGinn <matthew@balena.io>
                        signed-off-by: Matthew McGinn <matthew@balena.io>
                      author: Matthew McGinn
                      nested: []
                  version: balena-supervisor-11.11.1
                  date: 2020-07-29T15:57:59.129Z
                - commits:
                    - subject: >-
                        Support setting device/fleet configuration in
                        extra_uEnv.txt
                      hash: cac2e3612c978b5fbcf837d78a4a0bff5ba5166a
                      body: ''
                      footer:
                        Closes: '#1385'
                        closes: '#1385'
                        Change-Type: minor
                        change-type: minor
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.11.0
                  date: 2020-07-28T20:38:18.462Z
                - commits:
                    - subject: Extract current state reporting to its own module
                      hash: eeda7e3ab17dc68d592acc2e4f58f20dad9a677a
                      body: ''
                      footer:
                        Change-type: minor
                        change-type: minor
                      author: Pagan Gazzard
                      nested: []
                  version: balena-supervisor-11.10.0
                  date: 2020-07-24T16:39:30.078Z
                - commits:
                    - subject: log detection of changes to VPN status
                      hash: 41987d8e7600550da2d09e050db58c3ad969210e
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: dt-rush <nickp@balena.io>
                        signed-off-by: dt-rush <nickp@balena.io>
                      author: dt-rush
                      nested: []
                  version: balena-supervisor-11.9.10
                  date: 2020-07-23T23:22:47.297Z
          version: meta-balena-2.54.0
          date: 2020-08-06T23:12:50.461Z
        - commits:
            - subject: 'balena-unique-key: Ensure config.json is synced after replacing'
              hash: d0e218929b779b1051e14414b3b378b6d5928969
              body: |
                Ensuring changes are flushed to the filesystem at this point
                helps prevent config.json from becoming corrupt if power is cut.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.53.14
          date: 2020-08-06T12:48:20.058Z
        - commits:
            - subject: >-
                flasher-register: if no supervisor information found, report
                null
              hash: dee971c0dbeb6e8363f3e321af582e99627626e9
              body: >
                In b791055f3f6ffd6cc5796569a7321c5060129eea I attempted to have
                flasher

                images report their preconfigured supervisor version without a
                good

                understanding of how flasher images work. As it turns out no
                supervisor

                information is maintained in the flasher image itself, so until
                that is

                sorted stop reporting a blank string for the supervisor version.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.53.13
          date: 2020-08-05T20:17:40.378Z
        - commits:
            - subject: 'systemd: Set net.ipv4.conf.all.rp_filter in balena-os-sysctl'
              hash: a0573b7df13292aff6c7670246ed780342593376
              body: >
                The warrior branch does not backport this configuration

                like the older branches do. Let's move this setting in the

                balena-os-sysctl file to avoid issues where some device
                integration

                layers set the rp_filter mode to strict and break connectivity.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.53.12
          date: 2020-08-04T14:01:14.955Z
        - commits:
            - subject: Use a named key when querying for device by uuid
              hash: e2c6614d28fe498853297891eb0feeb4b1577a7b
              body: ''
              footer:
                Change-type: patch
                change-type: patch
              author: Pagan Gazzard
              nested: []
          version: meta-balena-2.53.11
          date: 2020-07-30T15:32:30.333Z
        - commits:
            - subject: >-
                supervisor: allow supervisor updates without controlling the
                supervisor state
              hash: 6208f065e59d9c15e10e872bff788c0b80020983
              body: >
                Recently the supervisor added a codepath that assumes no files
                underneath it will change during runtime.

                OS update hooks can trigger a condition whereby the supervisor
                reboots the device during a HUP,

                which in turn bricks the device.


                Additionally, since unknown args cause this update to
                fail-closed,

                remove that barrier to future-proof more flag expansion.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.53.10
          date: 2020-07-29T12:42:50.816Z
  version: 2.58.6+rev1
  date: 2020-10-30T08:22:06.387Z
- commits:
    - subject: Update meta-balena from v2.52.7 to v2.53.9
      hash: 29339c11ace762bcb22049a74499d22ffae9191b
      body: |
        Update meta-balena from 2.52.7 to 2.53.9
      footer:
        Changelog-entry: Update meta-balena from v2.52.7 to v2.53.9
        changelog-entry: Update meta-balena from v2.52.7 to v2.53.9
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested:
        - commits:
            - subject: 'balena-supervisor: Update to v11.9.9'
              hash: b991ede01e5140ef04f2e6fe9baa37a8ded95ab5
              body: |
                Update balena-supervisor from 11.9.8 to 11.9.9
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: next
                backport-to: next
                Signed-off-by: Rich Bayliss <rich@balena.io>
                signed-off-by: Rich Bayliss <rich@balena.io>
              author: Rich Bayliss
              nested:
                - commits:
                    - subject: 'common: Fix bug where aliases might be undefined'
                      hash: 60132134deffd770a40d1e6f18fdd87cb2f9f52e
                      body: >
                        Should handle the scenario where the network aliases are
                        undefined.
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                  version: balena-supervisor-11.9.9
                  date: 2020-07-23T15:45:31.161Z
          version: meta-balena-2.53.9
          date: 2020-07-23T17:44:58.146Z
        - commits:
            - subject: 'resin-supervisor: Create required directories before launch'
              hash: 7be7738c655e37e48c1a98f9e1e0ff2795d66bf8
              body: >
                On commit a4ce26caadabcb1e87d944d78218cc32c579914e the
                supervisor moved

                from using --volume to using --mount to avoid the implicit
                creation of

                directories instead of files.


                However, in the case where the mount referred to a directory,
                these have

                to exist in the rootfs beforehand as --mount will not create
                them.


                This commit checks for the existence of the
                /var/log/supervisor-log

                directory and creates it if required.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.53.8
          date: 2020-07-23T04:33:45.808Z
        - commits:
            - subject: 'balena-supervisor: Update to v11.9.8'
              hash: f919017e873062d30efa73d93a99ad0272675d24
              body: |
                Update balena-supervisor from 11.9.6 to 11.9.8
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: next
                backport-to: next
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested:
                - commits:
                    - subject: Bump lodash from 4.17.15 to 4.17.19
                      hash: 01655b595555ae63ea1b70d623451c9ad3ec03dd
                      body: >
                        Bumps [lodash](https://github.com/lodash/lodash) from
                        4.17.15 to 4.17.19.

                        - [Release
                        notes](https://github.com/lodash/lodash/releases)

                        -
                        [Commits](https://github.com/lodash/lodash/compare/4.17.15...4.17.19)
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: 'dependabot[bot] <support@github.com>'
                        signed-off-by: 'dependabot[bot] <support@github.com>'
                      author: 'dependabot[bot]'
                      nested: []
                  version: balena-supervisor-11.9.8
                  date: 2020-07-22T14:44:00.974Z
                - commits:
                    - subject: 'docker-utils: Test network gateway determination logic'
                      hash: 6ef3bd2362ebd185053a351490f6561ec10b84d8
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Rich Bayliss <rich@balena.io>
                        signed-off-by: Rich Bayliss <rich@balena.io>
                      author: Rich Bayliss
                      nested: []
                    - subject: Fix docker-util using incorrect reference for function
                      hash: 3b3babfd62868e986788d6c2f4fcede915fb4711
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Miguel Casqueira <miguel@balena.io>
                        signed-off-by: Miguel Casqueira <miguel@balena.io>
                      author: Miguel Casqueira
                      nested: []
                  version: balena-supervisor-11.9.7
                  date: 2020-07-22T12:19:06.693Z
          version: meta-balena-2.53.7
          date: 2020-07-23T03:02:50.027Z
        - commits:
            - subject: >-
                recipes-containers/balena: Use separate service for loading
                healthcheck image
              hash: 94a21624ccc1871d911b12654967b60a76a7e77a
              body: |
                In rocko, systemd kills any script started in background,
                same thing happening to children that get re-parented.

                One solution to this is to use a separate service file for
                starting the healtcheck image load script, after balena.service
                was started.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.53.6
          date: 2020-07-21T13:44:11.006Z
        - commits:
            - subject: 'balena-supervisor: Update to v11.9.6'
              hash: 826a68296c1ed3c7ce44753f6b8f85b9f8f87ef3
              body: |
                Update balena-supervisor from 11.9.4 to 11.9.6
              footer:
                Change-type: patch
                change-type: patch
                Backport-to: next
                backport-to: next
                Signed-off-by: Cameron Diver <cameron@balena.io>
                signed-off-by: Cameron Diver <cameron@balena.io>
              author: Rich Bayliss
              nested:
                - commits:
                    - subject: >-
                        Fix purge and restart invocations by providing instanced
                        apps
                      hash: d14d8f31ccee62fa8cec88209cc3674a1b280e34
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                    - subject: Fix purge invocations of new singletons
                      hash: d2a7d3b9653a2afbd8eca009b75871cf54dbf3ac
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.9.6
                  date: 2020-07-20T17:25:37.311Z
                - commits:
                    - subject: Update ESR version information
                      hash: c2b534a51b3863bf3c787db00c7299517224464f
                      body: ''
                      footer:
                        Change-type: patch
                        change-type: patch
                        Signed-off-by: Cameron Diver <cameron@balena.io>
                        signed-off-by: Cameron Diver <cameron@balena.io>
                      author: Cameron Diver
                      nested: []
                  version: balena-supervisor-11.9.5
                  date: 2020-07-14T14:31:17.340Z
          version: meta-balena-2.53.5
          date: 2020-07-21T11:58:00.018Z
        - commits:
            - subject: Add support for aufs5 on kernel 5.x variants
              hash: 6bdf4211aefb1f2c842f0797c50ae537fe2baae5
              body: |
                We add support for aufs on kernels 5.x variants
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Add support for aufs5 on kernel 5.x variants
                changelog-entry: Add support for aufs5 on kernel 5.x variants
                Signed-off-by: Florin Sarbu <florin@balena.io>
                signed-off-by: Florin Sarbu <florin@balena.io>
              author: Florin Sarbu
              nested: []
            - subject: Force choosing busybox-hwclock over util-linux-hwclock
              hash: 86dd4c761038ab0214a1fca8dd2839b4dbddfa39
              body: >
                Otherwise, as util-linux has a higher default alternative
                priority, the

                version in util-linux is chosen. It would seem they are
                exchangeable, but

                the busybox version reportedly works even if the RTC interrupt
                line is not

                connected.


                Fixes #1936
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Force choosing busybox-hwclock over util-linux-hwclock
                changelog-entry: Force choosing busybox-hwclock over util-linux-hwclock
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
          version: meta-balena-2.53.4
          date: 2020-07-21T08:03:00.660Z
        - commits:
            - subject: 'provisioning: provide base supervisor_version during provision'
              hash: b791055f3f6ffd6cc5796569a7321c5060129eea
              body: >
                In order to get closer to formally requiring a target supervisor
                release

                in the model, we should expand our provisioning process to
                provide the

                initial supervisor_version metadata. This connects back to
                tri-app.
              footer:
                Depends-on: 'https://github.com/balena-io/open-balena-api/pull/394'
                depends-on: 'https://github.com/balena-io/open-balena-api/pull/394'
                HQ: 'https://github.com/balena-io/balena-io/pull/2177'
                hq: 'https://github.com/balena-io/balena-io/pull/2177'
                Change-type: patch
                change-type: patch
                Signed-off-by: Matthew McGinn <matthew@balena.io>
                signed-off-by: Matthew McGinn <matthew@balena.io>
              author: Matthew McGinn
              nested: []
          version: meta-balena-2.53.3
          date: 2020-07-16T13:48:11.858Z
        - commits:
            - subject: Add LZ4 support config for older kernels
              hash: 403fc033b75b2672bf9c8ef9a27879096e7b88b7
              body: |
                Kernel versions between 4.0 and 4.9 use
                CONFIG_ZRAM_LZ4_COMPRESS, whereas newer ones
                use CONFIG_CRYPTO_LZ4.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alexandru Costache <alexandru@balena.io>
                signed-off-by: Alexandru Costache <alexandru@balena.io>
              author: Alexandru Costache
              nested: []
          version: meta-balena-2.53.2
          date: 2020-07-16T08:17:26.378Z
        - commits:
            - subject: Remove unnecessary config.json keys
              hash: b3222e619bbeebc0a2bd9e7419a9d8ae12b34dce
              body: ''
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Pagan Gazzard
              nested: []
          version: meta-balena-2.53.1
          date: 2020-07-14T14:53:06.752Z
        - commits:
            - subject: 'resin-supervisor: Create required directories before launch'
              hash: a93bd242d37246da83c1fa4368174d89b5c045f4
              body: >
                On commit a4ce26caadabcb1e87d944d78218cc32c579914e the
                supervisor moved

                from using --volume to using --mount to avoid the implicit
                creation of

                directories instead of files.


                However, in the case where the mount referred to a directory,
                these have

                to exist in the rootfs beforehand as --mount will not create
                them.


                This commit checks for the existence of the
                /resin-data/resin-supervisor

                directory and creates it if required.
              footer:
                Change-type: patch
                change-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: Rebrand custom resin logos
              hash: dc215462dd5adcb171496be9aef237351d749d71
              body: >
                When performing hostOS updates, the resin-logo.png might have

                been customized by the customer.

                This commits renames it to the newly branded balena-logo.png


                If the resin-logo.png was unmodified, it will forcefully replace
                to

                balena-logo.png to force rebranding of older resin branded
                release.


                Fixes #1801
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: Rebrand custom resin logos
                changelog-entry: Rebrand custom resin logos
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'plymouth: Remove patch that sets plymouth resin theme'
              hash: 8ccc9fc6862fdcaf9197bd443549411a3965279d
              body: |
                This is now configured as part of the plymouth-theme package.
              footer:
                Changelog-type: patch
                changelog-type: patch
                Signed-off-by: Alex Gonzalez <alexg@balena.io>
                signed-off-by: Alex Gonzalez <alexg@balena.io>
              author: Alex Gonzalez
              nested: []
            - subject: 'docker-disk: Update dind container to v19.03.10'
              hash: 6b325f57ff50be11e0c5f1f2420b911211f0ef06
              body: ''
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: 'docker-disk: Update to still supported dind container'
              hash: e325ab34b9d7f14ad5a0d85b36b02ee1e2b7fdf8
              body: >
                The `docker` Docker Hub repository lists what versions of the
                image

                are supported and 18.6 is not among them at all. Use the current
                stable

                line of 18.09 instead, to stay on supported versions. See more
                info at:

                https://hub.docker.com/_/docker


                For more reproducability, we are also including the patch level
                version

                of the container, which will give us more responsibility to
                update more

                frequently, but fewer surprises.


                Also explicitly set `DOCKER_HOST` for the daemon being started,
                otherwise

                the base image's setting might silently take over, and modify
                this.


                Replace deprecated `-g` (graph driver) with `--data-root` as
                well.
              footer:
                Change-type: minor
                change-type: minor
                Signed-off-by: Gergely Imreh <gergely@balena.io>
                signed-off-by: Gergely Imreh <gergely@balena.io>
              author: Gergely Imreh
              nested: []
            - subject: Use udev for setting up wlan power management
              hash: 7826c8ba9a9b6a97021fbcd352f627518afa8d73
              body: >
                resin-init has a hardcoded command to disable power management

                on wlan0. This commit moves the logic to udev rule as there is

                no guarantee wlan0 is the only or default wlan adapter in the
                system.


                There seems to be no better way to identify a wlan device in
                udev

                than KERNEL=="wl*" which should match both net.ifnames=0 (wlanX)

                and net.ifnames=1 (wlpX).


                Fixes #1422
              footer:
                Change-type: minor
                change-type: minor
                Changelog-entry: Use udev for setting up wlan power management
                changelog-entry: Use udev for setting up wlan power management
                Signed-off-by: Michal Toman <michalt@balena.io>
                signed-off-by: Michal Toman <michalt@balena.io>
              author: Michal Toman
              nested: []
            - subject: >-
                Use --mount instead of --volume for bind mounts to the
                supervisor container.
              hash: 0fd442943d6b6c802df2f6e35d334ecde0f748e9
              body: >
                This makes sure the source path refers to an existing
                file/directory on

                the host.


                https://docs.docker.com/engine/reference/commandline/service_create/#differences-between---mount-and---volume


                This avoids situations where --volume implicitely creates a
                directory (see #1748)


                Fixes #1754
              footer:
                Change-type: patch
                change-type: patch
                Changelog-entry: >-
                  Use --mount instead of --volume for bind mounts to the
                  supervisor container.
                changelog-entry: >-
                  Use --mount instead of --volume for bind mounts to the
                  supervisor container.
                Signed-off-by: Robert Günzler <robertg@balena.io>
                signed-off-by: Robert Günzler <robertg@balena.io>
              author: Robert Günzler
              nested: []
          version: meta-balena-2.53.0
          date: 2020-07-14T09:38:34.861Z
  version: 2.53.9+rev1
  date: 2020-07-27T12:39:34.666Z
- commits:
    - subject: Do not use wireless-regdb-static until we move to kernel >= 4.15
      hash: 232ee54a38d68ded980b9299eae01fe29df7412d
      body: |
        The machines in this repo are still on kernel < 4.15 so let's not use
        wireless-regdb-static just yet. When they will use a kernel >= 4.15
        let's switch then from crda to wireless-regdb-static.
      footer:
        Changelog-entry: Do not use wireless-regdb-static until we move to kernel >= 4.15
        changelog-entry: Do not use wireless-regdb-static until we move to kernel >= 4.15
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
    - subject: Added balena-yocto-scripts at v1.8.0
      hash: 8dec05a20c8295fe2cd4cf57b9e34f5ae30fc5db
      body: ''
      footer:
        Changelog-entry: Added balena-yocto-scripts at v1.8.0
        changelog-entry: Added balena-yocto-scripts at v1.8.0
        Signed-off-by: Alexandru Costache <alexandru@balena.io>
        signed-off-by: Alexandru Costache <alexandru@balena.io>
      author: Alexandru Costache
      nested: []
  version: 2.52.7+rev1
  date: 2020-07-14T11:54:29.934Z
